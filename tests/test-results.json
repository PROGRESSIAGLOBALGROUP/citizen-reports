{
  "config": {
    "rootDir": "C:/PROYECTOS/citizen-reports",
    "forbidOnly": false,
    "fullyParallel": false,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "actualWorkers": 1
    },
    "preserveOutput": "always",
    "reporter": [
      [
        "json"
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "C:/PROYECTOS/citizen-reports/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "",
        "name": "",
        "testDir": "C:/PROYECTOS/citizen-reports",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.55.1",
    "workers": 4,
    "webServer": null
  },
  "suites": [
    {
      "title": "tests\\e2e\\admin-database-maintenance.spec.ts",
      "file": "tests/e2e/admin-database-maintenance.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Database Maintenance Tools - Admin Panel",
          "file": "tests/e2e/admin-database-maintenance.spec.ts",
          "line": 3,
          "column": 6,
          "specs": [
            {
              "title": "GET /api/admin/database/backup - admin puede descargar respaldo",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 27,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:42:31",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 31,
                          "line": 42
                        },
                        "snippet": "\u001b[0m \u001b[90m 40 |\u001b[39m\n \u001b[90m 41 |\u001b[39m     \u001b[90m// Verify status\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 42 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 43 |\u001b[39m\n \u001b[90m 44 |\u001b[39m     \u001b[90m// Verify headers\u001b[39m\n \u001b[90m 45 |\u001b[39m     expect(response\u001b[33m.\u001b[39mheaders()[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/octet-stream'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 31,
                            "line": 42
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n\n  40 |\n  41 |     // Verify status\n> 42 |     expect(response.status()).toBe(200);\n     |                               ^\n  43 |\n  44 |     // Verify headers\n  45 |     expect(response.headers()['content-type']).toBe('application/octet-stream');\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:42:31"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:46.200Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 31,
                        "line": 42
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-71de457d7bfd209066ef",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 36,
              "column": 3
            },
            {
              "title": "GET /api/admin/database/backup - sin token retorna 401",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 1,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 20,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:47.956Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-d97ba183764f00031c13",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 54,
              "column": 3
            },
            {
              "title": "GET /api/admin/database/backup - funcionario retorna 403",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 1,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 25,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:78:31",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 31,
                          "line": 78
                        },
                        "snippet": "\u001b[0m \u001b[90m 76 |\u001b[39m     })\u001b[33m;\u001b[39m\n \u001b[90m 77 |\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 78 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 79 |\u001b[39m     \u001b[36mconst\u001b[39m json \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson()\u001b[33m;\u001b[39m\n \u001b[90m 80 |\u001b[39m     expect(json\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'permiso'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 81 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 31,
                            "line": 78
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n\n  76 |     });\n  77 |\n> 78 |     expect(response.status()).toBe(403);\n     |                               ^\n  79 |     const json = await response.json();\n  80 |     expect(json.error).toContain('permiso');\n  81 |   });\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:78:31"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:48.480Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 31,
                        "line": 78
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-97063979af6ff62f940c",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 62,
              "column": 3
            },
            {
              "title": "GET /api/admin/database/backup - registra en audit trail",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 2,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 24,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:89:31",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 31,
                          "line": 89
                        },
                        "snippet": "\u001b[0m \u001b[90m 87 |\u001b[39m\n \u001b[90m 88 |\u001b[39m     \u001b[90m// Verify status\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 90 |\u001b[39m\n \u001b[90m 91 |\u001b[39m     \u001b[90m// Verify headers\u001b[39m\n \u001b[90m 92 |\u001b[39m     expect(response\u001b[33m.\u001b[39mheaders()[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/octet-stream'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 31,
                            "line": 89
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n\n  87 |\n  88 |     // Verify status\n> 89 |     expect(response.status()).toBe(200);\n     |                               ^\n  90 |\n  91 |     // Verify headers\n  92 |     expect(response.headers()['content-type']).toBe('application/octet-stream');\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:89:31"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:49.736Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 31,
                        "line": 89
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-f3b0e5b0b369982d24d7",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 83,
              "column": 3
            },
            {
              "title": "DELETE /api/admin/database/reports - elimina todos los reportes con confirmaci├│n",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 3,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 27,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:51.598Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-f4ae77bc9abef724a522",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 104,
              "column": 3
            },
            {
              "title": "DELETE /api/admin/database/reports - rechaza sin confirmaci├│n correcta",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 3,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 29,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:52.147Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-ba3e5a1269ad015f8b17",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 141,
              "column": 3
            },
            {
              "title": "DELETE /api/admin/database/reports - rechaza sin confirmaci├│n",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 3,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 27,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:52.203Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-a8bd63cc9973479e340b",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 155,
              "column": 3
            },
            {
              "title": "DELETE /api/admin/database/reports - funcionario retorna 403",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 3,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 18,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:187:31",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 31,
                          "line": 187
                        },
                        "snippet": "\u001b[0m \u001b[90m 185 |\u001b[39m     })\u001b[33m;\u001b[39m\n \u001b[90m 186 |\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 187 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 188 |\u001b[39m   })\u001b[33m;\u001b[39m\n \u001b[90m 189 |\u001b[39m\n \u001b[90m 190 |\u001b[39m   test(\u001b[32m'DELETE /api/admin/database/reports - sin token retorna 401'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ request }) \u001b[33m=>\u001b[39m {\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 31,
                            "line": 187
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n\n  185 |     });\n  186 |\n> 187 |     expect(response.status()).toBe(403);\n      |                               ^\n  188 |   });\n  189 |\n  190 |   test('DELETE /api/admin/database/reports - sin token retorna 401', async ({ request }) => {\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:187:31"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:52.271Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 31,
                        "line": 187
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-4eadd2bd84ff26f772ef",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 167,
              "column": 3
            },
            {
              "title": "DELETE /api/admin/database/reports - sin token retorna 401",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 4,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 16,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:53.629Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-c757aa8aa1048873095e",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 190,
              "column": 3
            },
            {
              "title": "DELETE /api/admin/database/reports - registra en audit trail",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 4,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 19,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:54.145Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-26d5231b91ad73e934b4",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 198,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - reinicia BD preservando admin",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 4,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 107,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:54.184Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-94fba6c30a3d55839bfb",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 218,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - rechaza sin confirmaci├│n correcta",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 4,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 17,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m401\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:272:31",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 31,
                          "line": 272
                        },
                        "snippet": "\u001b[0m \u001b[90m 270 |\u001b[39m     })\u001b[33m;\u001b[39m\n \u001b[90m 271 |\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 273 |\u001b[39m     \u001b[36mconst\u001b[39m json \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mjson()\u001b[33m;\u001b[39m\n \u001b[90m 274 |\u001b[39m     expect(json\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Confirmaci├│n inv├ílida'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 275 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 31,
                            "line": 272
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n\n  270 |     });\n  271 |\n> 272 |     expect(response.status()).toBe(400);\n      |                               ^\n  273 |     const json = await response.json();\n  274 |     expect(json.error).toContain('Confirmaci├│n inv├ílida');\n  275 |   });\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:272:31"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:54.310Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 31,
                        "line": 272
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-f3e83041bf1a905a3a07",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 263,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - rechaza sin confirmaci├│n",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 5,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 16,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:55.513Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-500e87801e0c97991527",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 277,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - funcionario retorna 403",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 5,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 21,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:309:31",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 31,
                          "line": 309
                        },
                        "snippet": "\u001b[0m \u001b[90m 307 |\u001b[39m     })\u001b[33m;\u001b[39m\n \u001b[90m 308 |\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 309 |\u001b[39m     expect(response\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 310 |\u001b[39m   })\u001b[33m;\u001b[39m\n \u001b[90m 311 |\u001b[39m\n \u001b[90m 312 |\u001b[39m   test(\u001b[32m'POST /api/admin/database/reset - sin token retorna 401'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ request }) \u001b[33m=>\u001b[39m {\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 31,
                            "line": 309
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m403\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n\n  307 |     });\n  308 |\n> 309 |     expect(response.status()).toBe(403);\n      |                               ^\n  310 |   });\n  311 |\n  312 |   test('POST /api/admin/database/reset - sin token retorna 401', async ({ request }) => {\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:309:31"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:56.021Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 31,
                        "line": 309
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-51ae2d0d3612460fcda9",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 289,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - sin token retorna 401",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 6,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 15,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:57.204Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-555bb413f4784cbf3afd",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 312,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - elimina usuarios no-admin",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 6,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 23,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:57.717Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-400f9c69a5181f183369",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 320,
              "column": 3
            },
            {
              "title": "POST /api/admin/database/reset - registra en audit trail",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 6,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 16,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m401\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:353:36",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 36,
                          "line": 353
                        },
                        "snippet": "\u001b[0m \u001b[90m 351 |\u001b[39m     })\u001b[33m;\u001b[39m\n \u001b[90m 352 |\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 353 |\u001b[39m     expect(resetResponse\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 354 |\u001b[39m     \n \u001b[90m 355 |\u001b[39m     \u001b[90m// Verificamos que la operaci├│n fue exitosa\u001b[39m\n \u001b[90m 356 |\u001b[39m     \u001b[36mconst\u001b[39m resetData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m resetResponse\u001b[33m.\u001b[39mjson()\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 36,
                            "line": 353
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n\n  351 |     });\n  352 |\n> 353 |     expect(resetResponse.status()).toBe(200);\n      |                                    ^\n  354 |     \n  355 |     // Verificamos que la operaci├│n fue exitosa\n  356 |     const resetData = await resetResponse.json();\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:353:36"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:57.761Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 36,
                        "line": 353
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-73a89a4c0a6a9ace0582",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 343,
              "column": 3
            },
            {
              "title": "Flujo completo: Backup ÔåÆ Eliminar ÔåÆ Reset ÔåÆ Verificar",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "",
                  "projectName": "",
                  "results": [
                    {
                      "workerIndex": 7,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 19,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:368:37",
                        "location": {
                          "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                          "column": 37,
                          "line": 368
                        },
                        "snippet": "\u001b[0m \u001b[90m 366 |\u001b[39m       headers\u001b[33m:\u001b[39m { \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${adminToken}`\u001b[39m }\n \u001b[90m 367 |\u001b[39m     })\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 368 |\u001b[39m     expect(backupResponse\u001b[33m.\u001b[39mstatus())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 369 |\u001b[39m     \u001b[36mconst\u001b[39m backupBuffer \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m backupResponse\u001b[33m.\u001b[39mbody()\u001b[33m;\u001b[39m\n \u001b[90m 370 |\u001b[39m     expect(backupBuffer\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1024\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 371 |\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                            "column": 37,
                            "line": 368
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n\n  366 |       headers: { Authorization: `Bearer ${adminToken}` }\n  367 |     });\n> 368 |     expect(backupResponse.status()).toBe(200);\n      |                                     ^\n  369 |     const backupBuffer = await backupResponse.body();\n  370 |     expect(backupBuffer.length).toBeGreaterThan(1024);\n  371 |\n    at C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts:368:37"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-23T22:07:58.935Z",
                      "annotations": [],
                      "attachments": [],
                      "errorLocation": {
                        "file": "C:\\PROYECTOS\\citizen-reports\\tests\\e2e\\admin-database-maintenance.spec.ts",
                        "column": 37,
                        "line": 368
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "be3c1910ccacfd5c5e2c-8957abdc1688fdfd0512",
              "file": "tests/e2e/admin-database-maintenance.spec.ts",
              "line": 363,
              "column": 3
            }
          ]
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2025-11-23T22:07:44.194Z",
    "duration": 15288.407000000001,
    "expected": 10,
    "skipped": 0,
    "unexpected": 8,
    "flaky": 0
  }
}
