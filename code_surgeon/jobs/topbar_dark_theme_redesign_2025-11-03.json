{
  "job_id": "topbar_dark_theme_redesign_2025-11-03",
  "title": "Top Bar Dark Theme Redesign - Class-World Visual Consistency",
  "description": "Reimagine the TopBar navigation to match the dark theme visual style of the ImprovedMapView panel (gradients, colors, animations). Transform from white/gray flat design to dark gradient, impactful, world-class aesthetic.",
  "file": "client/src/App.jsx",
  "mode": "regex-block",
  "start": "const renderNavigation = \\(\\) => \\(",
  "end": "  \\);",
  "new_fragment_path": "code_surgeon/fragments/topbar_dark_theme_redesign.jsx",
  "post_cmd": "cd client && npm run build && cd .. && npm run lint",
  "enable_rollback": true,
  "enable_testing": true,
  "git_skip": true,
  "design_requirements": [
    "Match ImprovedMapView dark theme: gradient #0f172a â†’ #1e293b",
    "Button active states with gradients (blue/purple/green/red)",
    "Smooth transitions with cubic-bezier easing",
    "Glow effects on active/hover states",
    "Text colors: #cbd5e1 (light), #94a3b8 (muted)",
    "Remove white/gray flat design completely",
    "Icons large and visible",
    "No unnecessary padding or margins",
    "Maintain responsive mobile layout (flex: 1 1 auto)",
    "Add shimmer animations to active buttons"
  ],
  "technical_details": {
    "target_lines": "166-320+ (entire renderNavigation function)",
    "scope": "Visual styling only - NO functional changes",
    "preserve": [
      "onClick handlers (navigateToMap, navigateToForm, navigateToPanel, navigateToAdmin, handleLogout)",
      "Conditional rendering (!usuario ? ... : ...)",
      "Admin button visibility (usuario && usuario.rol === 'admin')",
      "View state tracking (currentView === 'map' ? ...)"
    ],
    "styling_changes": [
      "backgroundColor: Linear gradients for container",
      "Button backgrounds: Gradients for active/inactive states",
      "Color palette: Dark theme (#0f172a, #1e293b, #cbd5e1, #94a3b8)",
      "boxShadow: Glow effects for active/hover states",
      "Transitions: 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94)",
      "Border styles: Subtle borders with dark theme colors"
    ]
  },
  "color_palette": {
    "background": "linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",
    "text_light": "#cbd5e1",
    "text_muted": "#94a3b8",
    "border": "#334155",
    "accent_blue": "#3b82f6",
    "accent_green": "#10b981",
    "accent_purple": "#8b5cf6",
    "accent_red": "#ef4444"
  },
  "validation_criteria": [
    "Build completes without errors (63 modules transformed)",
    "No syntax errors or warnings",
    "All buttons visible and functional",
    "Dark theme applied consistently",
    "Gradients render correctly",
    "Glow effects display on hover/active",
    "Mobile layout preserved (buttons flex correctly)",
    "Transitions smooth and responsive"
  ],
  "notes": [
    "This is a PURE STYLING redesign - zero functional changes",
    "User explicitly requested visual consistency with ImprovedMapView panel",
    "Design goal: 'visualmente impactante e impresionante para ser percibido como un producto de clase mundial'",
    "No git push - only code_surgeon job creation and execution",
    "Build and server restart after successful replacement"
  ]
}
