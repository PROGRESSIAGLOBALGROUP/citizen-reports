{
  "timestamp": "2025-11-24T19:51:24.072908+00:00",
  "file_path": "client\\src\\AdminUsuarios.jsx",
  "mode": "line-range",
  "start_marker": "1",
  "end_marker": "1764",
  "original_content": "import React, { useState, useEffect } from 'react';\nimport { DESIGN_SYSTEM, COMMON_STYLES } from './design-system';\nimport * as UnifiedStyles from './unified-section-headers';\n\n/**\n * Componente de Administraci√≥n de Usuarios\n * Permite CRUD completo de usuarios del sistema\n */\nexport default function AdminUsuarios() {\n  const [usuarios, setUsuarios] = useState([]);\n  const [dependencias, setDependencias] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modoEdicion, setModoEdicion] = useState(false);\n  const [usuarioActual, setUsuarioActual] = useState(null);\n  const [filtroActivo, setFiltroActivo] = useState('todos'); // todos, activos, inactivos\n  const [filtroDependencia, setFiltroDependencia] = useState('todas');\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n  \n  const [formData, setFormData] = useState({\n    email: '',\n    nombre: '',\n    password: '',\n    dependencia: 'obras_publicas',\n    rol: 'funcionario',\n    activo: true\n  });\n\n  // Detectar cambios en el tama√±o de pantalla\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Cargar datos iniciales\n  useEffect(() => {\n    Promise.all([\n      cargarUsuarios(),\n      cargarDependencias(),\n      cargarRoles()\n    ]).then(() => setLoading(false));\n  }, []);\n\n  async function cargarUsuarios() {\n    try {\n      const res = await fetch('/api/usuarios');\n      if (!res.ok) throw new Error('Error al cargar usuarios');\n      const data = await res.json();\n      setUsuarios(data);\n    } catch (err) {\n      setError('Error al cargar la lista de usuarios');\n      console.error(err);\n    }\n  }\n\n  async function cargarDependencias() {\n    try {\n      const res = await fetch('/api/dependencias');\n      if (!res.ok) throw new Error('Error al cargar dependencias');\n      const data = await res.json();\n      setDependencias(data);\n    } catch (err) {\n      console.error('Error al cargar dependencias:', err);\n    }\n  }\n\n  async function cargarRoles() {\n    try {\n      const res = await fetch('/api/roles');\n      if (!res.ok) throw new Error('Error al cargar roles');\n      const data = await res.json();\n      setRoles(data);\n    } catch (err) {\n      console.error('Error al cargar roles:', err);\n    }\n  }\n\n  function abrirModalNuevo() {\n    setModoEdicion(false);\n    setUsuarioActual(null);\n    setFormData({\n      email: '',\n      nombre: '',\n      password: '',\n      dependencia: 'obras_publicas',\n      rol: 'funcionario',\n      activo: true\n    });\n    setShowModal(true);\n    setError(null);\n    setSuccess(null);\n  }\n\n  function abrirModalEditar(usuario) {\n    setModoEdicion(true);\n    setUsuarioActual(usuario);\n    setFormData({\n      email: usuario.email,\n      nombre: usuario.nombre,\n      password: '', // No mostrar password actual\n      dependencia: usuario.dependencia,\n      rol: usuario.rol,\n      activo: usuario.activo === 1\n    });\n    setShowModal(true);\n    setError(null);\n    setSuccess(null);\n  }\n\n  function cerrarModal() {\n    setShowModal(false);\n    setModoEdicion(false);\n    setUsuarioActual(null);\n    setError(null);\n    setSuccess(null);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n\n    try {\n      const url = modoEdicion \n        ? `/api/usuarios/${usuarioActual.id}`\n        : '/api/usuarios';\n      \n      const method = modoEdicion ? 'PUT' : 'POST';\n      \n      // Si es edici√≥n y no se cambi√≥ el password, no enviarlo\n      const body = { ...formData };\n      if (modoEdicion && !body.password) {\n        delete body.password;\n      }\n\n      const res = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body)\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Error al guardar usuario');\n      }\n\n      setSuccess(data.mensaje || 'Usuario guardado exitosamente');\n      await cargarUsuarios();\n      \n      setTimeout(() => {\n        cerrarModal();\n      }, 1500);\n\n    } catch (err) {\n      setError(err.message);\n    }\n  }\n\n  async function handleEliminar(usuario) {\n    if (!confirm(`¬øEst√° seguro de desactivar al usuario ${usuario.nombre}?`)) {\n      return;\n    }\n\n    try {\n      const res = await fetch(`/api/usuarios/${usuario.id}`, {\n        method: 'DELETE'\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Error al desactivar usuario');\n      }\n\n      setSuccess('Usuario desactivado exitosamente');\n      await cargarUsuarios();\n\n      setTimeout(() => setSuccess(null), 3000);\n\n    } catch (err) {\n      setError(err.message);\n      setTimeout(() => setError(null), 3000);\n    }\n  }\n\n  function handleInputChange(e) {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  }\n\n  // Filtrar usuarios\n  const usuariosFiltrados = usuarios.filter(u => {\n    // Filtro por estado activo/inactivo\n    if (filtroActivo === 'activos' && u.activo !== 1) return false;\n    if (filtroActivo === 'inactivos' && u.activo === 1) return false;\n    \n    // Filtro por dependencia\n    if (filtroDependencia !== 'todas' && u.dependencia !== filtroDependencia) return false;\n    \n    return true;\n  });\n\n  if (loading) {\n    return (\n      <div style={{ padding: DESIGN_SYSTEM.spacing.xl, textAlign: 'center' }}>\n        <div style={{ fontSize: DESIGN_SYSTEM.typography.body.fontSize, color: DESIGN_SYSTEM.colors.neutral.dark }}>Cargando usuarios...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ \n      padding: DESIGN_SYSTEM.spacing.md,\n      maxWidth: '1400px',\n      margin: '0 auto',\n      fontFamily: DESIGN_SYSTEM.typography.fontFamily\n    }}>\n      {/* Header - Estilo Gubernamental con Glassmorphism */}\n      <div style={{\n        background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)',\n        backdropFilter: 'blur(16px)',\n        WebkitBackdropFilter: 'blur(16px)',\n        border: '1px solid rgba(226, 232, 240, 0.6)',\n        borderRadius: '16px',\n        padding: '28px',\n        marginBottom: '28px',\n        boxShadow: '0 8px 32px -8px rgba(0, 0, 0, 0.08), 0 4px 16px -4px rgba(100, 116, 139, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.7)',\n        position: 'relative',\n        overflow: 'hidden'\n      }}>\n        {/* Background overlay pattern */}\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'radial-gradient(circle at 70% 20%, rgba(71, 85, 105, 0.03) 0%, transparent 60%)',\n          pointerEvents: 'none'\n        }} />\n        \n        {/* Content */}\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '24px',\n          position: 'relative',\n          zIndex: 2,\n          flexWrap: 'wrap'\n        }}>\n          {/* Avatar Gubernamental */}\n          <div style={{\n            width: '72px',\n            height: '72px',\n            background: 'linear-gradient(135deg, #475569, #64748b)',\n            borderRadius: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '28px',\n            color: 'white',\n            boxShadow: '0 8px 24px -8px rgba(71, 85, 105, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15)',\n            transition: 'all 0.3s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = 'translateY(-2px)';\n            e.currentTarget.style.boxShadow = '0 12px 32px -8px rgba(71, 85, 105, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = '0 8px 24px -8px rgba(71, 85, 105, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15)';\n          }}\n          >\n            üë•\n          </div>\n          \n          {/* Text Content */}\n          <div style={{ flex: 1, minWidth: '200px' }}>\n            <h1 style={{\n              fontSize: '28px',\n              fontWeight: '700',\n              color: '#1e293b',\n              letterSpacing: '-0.4px',\n              lineHeight: '1.2',\n              margin: '0 0 8px 0'\n            }}>\n              Administraci√≥n de Usuarios\n            </h1>\n            <p style={{\n              color: '#64748b',\n              fontSize: '16px',\n              fontWeight: '500',\n              marginBottom: '16px',\n              lineHeight: '1.5',\n              margin: 0\n            }}>\n              Gestiona los funcionarios y supervisores del sistema\n            </p>\n            {/* Stats */}\n            <div style={{\n              display: 'flex',\n              gap: '12px',\n              flexWrap: 'wrap',\n              marginTop: '12px'\n            }}>\n              <div style={{\n                padding: '6px 12px',\n                background: 'rgba(71, 85, 105, 0.08)',\n                borderRadius: '8px',\n                fontSize: '13px',\n                fontWeight: '600',\n                color: '#475569',\n                border: '1px solid rgba(71, 85, 105, 0.15)'\n              }}>\n                üìä Total: {usuarios.length}\n              </div>\n              <div style={{\n                padding: '6px 12px',\n                background: 'rgba(71, 85, 105, 0.08)',\n                borderRadius: '8px',\n                fontSize: '13px',\n                fontWeight: '600',\n                color: '#475569',\n                border: '1px solid rgba(71, 85, 105, 0.15)'\n              }}>\n                ‚úÖ Activos: {usuarios.filter(u => u.activo === 1).length}\n              </div>\n            </div>\n          </div>\n          \n          {/* Action Button - Gubernamental */}\n          <button\n            onClick={abrirModalNuevo}\n            style={{\n              background: 'linear-gradient(135deg, #475569, #64748b)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '12px 20px',\n              fontSize: '15px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              boxShadow: '0 4px 16px -4px rgba(71, 85, 105, 0.3)',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-1px)';\n              e.currentTarget.style.boxShadow = '0 6px 20px -4px rgba(71, 85, 105, 0.4)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 4px 16px -4px rgba(71, 85, 105, 0.3)';\n            }}\n          >\n            <span style={{ fontSize: '20px' }}>+</span>\n            Nuevo Usuario\n          </button>\n        </div>\n      </div>\n\n      {/* Mensajes de √©xito/error globales */}\n      {success && !showModal && (\n        <div style={{\n          padding: DESIGN_SYSTEM.spacing.md,\n          backgroundColor: `${DESIGN_SYSTEM.colors.semantic.success}22`,\n          border: `1px solid ${DESIGN_SYSTEM.colors.semantic.success}`,\n          borderRadius: DESIGN_SYSTEM.border.radius.md,\n          marginBottom: DESIGN_SYSTEM.spacing['2xl'],\n          color: DESIGN_SYSTEM.colors.semantic.success\n        }}>\n          ‚úì {success}\n        </div>\n      )}\n\n      {error && !showModal && (\n        <div style={{\n          padding: DESIGN_SYSTEM.spacing.md,\n          backgroundColor: `${DESIGN_SYSTEM.colors.semantic.danger}22`,\n          border: `1px solid ${DESIGN_SYSTEM.colors.semantic.danger}`,\n          borderRadius: DESIGN_SYSTEM.border.radius.md,\n          marginBottom: DESIGN_SYSTEM.spacing['2xl'],\n          color: DESIGN_SYSTEM.colors.semantic.danger\n        }}>\n          ‚úï {error}\n        </div>\n      )}\n\n      {/* Filtros - Responsive */}\n      <div style={{\n        display: 'flex',\n        flexDirection: isMobile ? 'column' : 'row',\n        gap: isMobile ? DESIGN_SYSTEM.spacing.sm : DESIGN_SYSTEM.spacing.md,\n        marginBottom: DESIGN_SYSTEM.spacing['2xl'],\n        padding: DESIGN_SYSTEM.spacing.md,\n        backgroundColor: DESIGN_SYSTEM.colors.neutral.medium,\n        borderRadius: DESIGN_SYSTEM.border.radius.md\n      }}>\n        <div style={{ flex: 1 }}>\n          <label style={{ \n            display: 'block', \n            fontSize: DESIGN_SYSTEM.typography.label.fontSize, \n            fontWeight: '600',\n            color: DESIGN_SYSTEM.colors.neutral.dark,\n            marginBottom: DESIGN_SYSTEM.spacing.xs\n          }}>\n            Estado\n          </label>\n          <select\n            value={filtroActivo}\n            onChange={(e) => setFiltroActivo(e.target.value)}\n            style={{\n              width: '100%',\n              padding: isMobile ? DESIGN_SYSTEM.spacing.sm : DESIGN_SYSTEM.spacing.xs,\n              backgroundColor: DESIGN_SYSTEM.colors.neutral.light,\n              border: `1px solid ${DESIGN_SYSTEM.colors.neutral.border}`,\n              borderRadius: DESIGN_SYSTEM.border.radius.md,\n              fontSize: DESIGN_SYSTEM.typography.body.fontSize,\n              minHeight: isMobile ? '44px' : 'auto',\n              cursor: 'pointer'\n            }}\n          >\n            <option value=\"todos\">Todos</option>\n            <option value=\"activos\">Solo Activos</option>\n            <option value=\"inactivos\">Solo Inactivos</option>\n          </select>\n        </div>\n\n        <div style={{ flex: 1 }}>\n          <label style={{ \n            display: 'block', \n            fontSize: DESIGN_SYSTEM.typography.label.fontSize, \n            fontWeight: '600',\n            color: DESIGN_SYSTEM.colors.neutral.dark,\n            marginBottom: DESIGN_SYSTEM.spacing.xs\n          }}>\n            Dependencia\n          </label>\n          <select\n            value={filtroDependencia}\n            onChange={(e) => setFiltroDependencia(e.target.value)}\n            style={{\n              width: '100%',\n              padding: isMobile ? DESIGN_SYSTEM.spacing.sm : DESIGN_SYSTEM.spacing.xs,\n              backgroundColor: DESIGN_SYSTEM.colors.neutral.light,\n              border: `1px solid ${DESIGN_SYSTEM.colors.neutral.border}`,\n              borderRadius: DESIGN_SYSTEM.border.radius.md,\n              fontSize: DESIGN_SYSTEM.typography.body.fontSize,\n              minHeight: isMobile ? '44px' : 'auto',\n              cursor: 'pointer'\n            }}\n          >\n            <option value=\"todas\">Todas las dependencias</option>\n            {dependencias.map(dep => (\n              <option key={dep.id} value={dep.id}>{dep.nombre}</option>\n            ))}\n          </select>\n        </div>\n\n        <div style={{ \n          display: 'flex', \n          alignItems: isMobile ? 'stretch' : 'flex-end',\n          paddingBottom: isMobile ? '0' : '2px'\n        }}>\n          <div style={{\n            padding: isMobile ? '12px 16px' : '10px 16px',\n            backgroundColor: 'white',\n            border: '1px solid #d1d5db',\n            borderRadius: '6px',\n            fontSize: '14px',\n            fontWeight: '600',\n            color: '#374151',\n            minHeight: isMobile ? '44px' : 'auto',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: isMobile ? 'center' : 'flex-start',\n            width: isMobile ? '100%' : 'auto'\n          }}>\n            Total: {usuariosFiltrados.length}\n          </div>\n        </div>\n      </div>\n\n      {/* Tabla de usuarios (Desktop) o Cards (Mobile) */}\n      {!isMobile ? (\n        <div style={{\n          background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)',\n          backdropFilter: 'blur(12px)',\n          WebkitBackdropFilter: 'blur(12px)',\n          borderRadius: '16px',\n          border: '1px solid rgba(226, 232, 240, 0.6)',\n          overflow: 'hidden',\n          boxShadow: '0 4px 16px -4px rgba(0, 0, 0, 0.06)',\n          transition: 'all 0.25s ease'\n        }}>\n          <table style={{ \n            width: '100%', \n            borderCollapse: 'collapse',\n            minWidth: '900px'\n          }}>\n            <thead>\n              <tr style={{ \n                background: 'linear-gradient(135deg, #475569 0%, #64748b 100%)',\n                color: 'white'\n              }}>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>üë§ Nombre</th>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>‚úâÔ∏è Email</th>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>üè¢ Dependencia</th>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>‚≠ê Rol</th>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>üîÑ Estado</th>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>üìÖ Creado</th>\n                <th style={{\n                  ...estiloEncabezado,\n                  color: 'white',\n                  textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                  borderBottom: 'none'\n                }}>‚ö° Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {usuariosFiltrados.length === 0 ? (\n                <tr>\n                  <td colSpan=\"7\" style={{ \n                    textAlign: 'center', \n                    padding: DESIGN_SYSTEM.spacing['3xl'],\n                    background: 'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)',\n                    color: DESIGN_SYSTEM.colors.neutral.medium,\n                    fontSize: '18px',\n                    fontWeight: '600'\n                  }}>\n                    <div style={{ marginBottom: '16px', fontSize: '48px', opacity: 0.5 }}>üë•</div>\n                    No hay usuarios que coincidan con los filtros\n                  </td>\n                </tr>\n              ) : (\n                usuariosFiltrados.map((usuario, index) => (\n                <tr \n                  key={usuario.id}\n                  style={{ \n                    borderBottom: `1px solid ${DESIGN_SYSTEM.colors.neutral.border}`,\n                    background: index % 2 === 0 ? 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)' : 'white',\n                    transition: 'all 0.3s ease'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = 'linear-gradient(135deg, #475569 0%, #64748b 100%)';\n                    e.currentTarget.style.color = 'white';\n                    e.currentTarget.style.transform = 'scale(1.02)';\n                    e.currentTarget.style.boxShadow = '0 8px 25px rgba(71, 85, 105, 0.3)';\n                    e.currentTarget.style.borderRadius = '12px';\n                    e.currentTarget.style.margin = '4px 8px';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = index % 2 === 0 ? 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)' : 'white';\n                    e.currentTarget.style.color = 'inherit';\n                    e.currentTarget.style.transform = 'scale(1)';\n                    e.currentTarget.style.boxShadow = 'none';\n                    e.currentTarget.style.borderRadius = '0';\n                    e.currentTarget.style.margin = '0';\n                  }}\n                >\n                  <td style={{\n                    ...estiloCelda,\n                    fontWeight: '700',\n                    color: 'inherit'\n                  }}>\n                    <div style={{ \n                      display: 'flex', \n                      alignItems: 'center', \n                      gap: '12px'\n                    }}>\n                      <div style={{\n                        width: '40px',\n                        height: '40px',\n                        borderRadius: '50%',\n                        background: 'linear-gradient(135deg, #475569 0%, #64748b 100%)',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: 'white',\n                        fontWeight: 'bold',\n                        fontSize: '16px',\n                        boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                      }}>\n                        {usuario.nombre.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase()}\n                      </div>\n                      <div style={{ fontWeight: '700', fontSize: '16px' }}>\n                        {usuario.nombre}\n                      </div>\n                    </div>\n                  </td>\n                  <td style={estiloCelda}>\n                    <div style={{ \n                      color: 'inherit', \n                      fontSize: '14px',\n                      fontWeight: '500'\n                    }}>\n                      {usuario.email}\n                    </div>\n                  </td>\n                  <td style={estiloCelda}>\n                    <span style={{\n                      padding: `${DESIGN_SYSTEM.spacing.xs} ${DESIGN_SYSTEM.spacing.sm}`,\n                      background: 'rgba(71, 85, 105, 0.08)',\n                      color: '#475569',\n                      borderRadius: DESIGN_SYSTEM.border.radius.full,\n                      fontSize: '12px',\n                      fontWeight: '700',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px',\n                      border: '1px solid rgba(71, 85, 105, 0.15)',\n                      boxShadow: '0 2px 8px rgba(71, 85, 105, 0.1)'\n                    }}>\n                      {dependencias.find(d => d.slug === usuario.dependencia)?.nombre || usuario.dependencia}\n                    </span>\n                  </td>\n                  <td style={estiloCelda}>\n                    <span style={{\n                      padding: `${DESIGN_SYSTEM.spacing.xs} ${DESIGN_SYSTEM.spacing.sm}`,\n                      backgroundColor: usuario.rol === 'admin' ? '#dc2626' : usuario.rol === 'supervisor' ? '#475569' : '#475569',\n                      color: 'white',\n                      borderRadius: DESIGN_SYSTEM.border.radius.full,\n                      fontSize: '12px',\n                      fontWeight: '700',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px',\n                      boxShadow: `0 4px 12px ${usuario.rol === 'admin' ? '#dc262640' : usuario.rol === 'supervisor' ? 'rgba(71, 85, 105, 0.3)' : 'rgba(71, 85, 105, 0.3)'}`\n                    }}>\n                      {usuario.rol === 'admin' ? 'üëë ADMIN' : usuario.rol === 'supervisor' ? 'üîç SUPERVISOR' : '‚öôÔ∏è FUNCIONARIO'}\n                    </span>\n                  </td>\n                  <td style={estiloCelda}>\n                    <span style={{\n                      padding: `${DESIGN_SYSTEM.spacing.xs} ${DESIGN_SYSTEM.spacing.sm}`,\n                      backgroundColor: usuario.activo === 1 ? '#475569' : '#6b7280',\n                      color: 'white',\n                      borderRadius: DESIGN_SYSTEM.border.radius.full,\n                      fontSize: '12px',\n                      fontWeight: '700',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '6px',\n                      justifyContent: 'center',\n                      minWidth: '80px',\n                      boxShadow: `0 4px 12px ${usuario.activo === 1 ? 'rgba(71, 85, 105, 0.3)' : '#6b728040'}`\n                    }}>\n                      {usuario.activo === 1 ? 'üü¢ ACTIVO' : 'üî¥ INACTIVO'}\n                    </span>\n                  </td>\n                  <td style={estiloCelda}>\n                    <div style={{ \n                      color: 'inherit',\n                      fontSize: '13px',\n                      fontWeight: '500'\n                    }}>\n                      {new Date(usuario.creado_en).toLocaleDateString('es-MX', {\n                        year: 'numeric',\n                        month: 'short',\n                        day: 'numeric'\n                      })}\n                    </div>\n                  </td>\n                  <td style={estiloCelda}>\n                    <div style={{ \n                      display: 'flex', \n                      gap: DESIGN_SYSTEM.spacing.xs, \n                      justifyContent: 'center'\n                    }}>\n                      <button\n                        onClick={() => abrirModalEditar(usuario)}\n                        style={{\n                          padding: `${DESIGN_SYSTEM.spacing.xs} ${DESIGN_SYSTEM.spacing.sm}`,\n                          background: 'rgba(71, 85, 105, 0.08)',\n                          color: '#475569',\n                          border: '1px solid rgba(226, 232, 240, 0.8)',\n                          borderRadius: '8px',\n                          fontSize: '12px',\n                          cursor: 'pointer',\n                          fontWeight: '600',\n                          transition: 'all 0.2s ease',\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '4px'\n                        }}\n                        title=\"Editar usuario\"\n                        onMouseEnter={(e) => {\n                          e.target.style.background = 'rgba(71, 85, 105, 0.12)';\n                          e.target.style.transform = 'translateY(-1px)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.target.style.background = 'rgba(71, 85, 105, 0.08)';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      >\n                        ‚úèÔ∏è Editar\n                      </button>\n                      {usuario.id !== 1 && ( // No permitir eliminar admin principal\n                        <button\n                          onClick={() => handleEliminar(usuario)}\n                          style={{\n                            padding: `${DESIGN_SYSTEM.spacing.xs} ${DESIGN_SYSTEM.spacing.sm}`,\n                            background: 'rgba(239, 68, 68, 0.08)',\n                            color: '#dc2626',\n                            border: '1px solid rgba(254, 202, 202, 0.8)',\n                            borderRadius: '8px',\n                            fontSize: '12px',\n                            cursor: 'pointer',\n                            fontWeight: '600',\n                            transition: 'all 0.2s ease',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '4px'\n                          }}\n                          title=\"Desactivar usuario\"\n                          onMouseEnter={(e) => {\n                            e.target.style.background = 'rgba(239, 68, 68, 0.12)';\n                            e.target.style.transform = 'translateY(-1px)';\n                          }}\n                          onMouseLeave={(e) => {\n                            e.target.style.background = 'rgba(239, 68, 68, 0.08)';\n                            e.target.style.transform = 'translateY(0)';\n                          }}\n                        >\n                          üóëÔ∏è\n                        </button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))\n\n            )}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        /* Vista de Cards para Mobile */\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n          {usuariosFiltrados.length === 0 ? (\n            <div style={{\n              backgroundColor: 'white',\n              borderRadius: '12px',\n              border: '1px solid #e5e7eb',\n              padding: '40px 20px',\n              textAlign: 'center',\n              color: '#6b7280'\n            }}>\n              No hay usuarios que coincidan con los filtros\n            </div>\n          ) : (\n            usuariosFiltrados.map(usuario => (\n              <div\n                key={usuario.id}\n                style={{\n                  backgroundColor: 'white',\n                  borderRadius: '12px',\n                  border: '1px solid #e5e7eb',\n                  padding: '16px',\n                  boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n                }}\n              >\n                {/* Nombre y Estado */}\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  marginBottom: '12px'\n                }}>\n                  <div style={{ flex: 1 }}>\n                    <div style={{\n                      fontSize: '16px',\n                      fontWeight: '700',\n                      color: '#111827',\n                      marginBottom: '4px'\n                    }}>\n                      {usuario.nombre}\n                    </div>\n                    <div style={{\n                      fontSize: '13px',\n                      color: '#6b7280',\n                      wordBreak: 'break-all'\n                    }}>\n                      {usuario.email}\n                    </div>\n                  </div>\n                  <span style={{\n                    padding: '4px 10px',\n                    backgroundColor: usuario.activo === 1 ? '#dcfce7' : '#fee2e2',\n                    color: usuario.activo === 1 ? '#166534' : '#991b1b',\n                    borderRadius: '12px',\n                    fontSize: '11px',\n                    fontWeight: '600',\n                    whiteSpace: 'nowrap',\n                    marginLeft: '8px'\n                  }}>\n                    {usuario.activo === 1 ? '‚úì Activo' : '‚úï Inactivo'}\n                  </span>\n                </div>\n\n                {/* Dependencia y Rol */}\n                <div style={{\n                  display: 'flex',\n                  gap: '8px',\n                  marginBottom: '12px',\n                  flexWrap: 'wrap'\n                }}>\n                  <span style={{\n                    padding: '4px 12px',\n                    background: 'rgba(71, 85, 105, 0.08)',\n                    color: '#475569',\n                    borderRadius: '12px',\n                    fontSize: '12px',\n                    fontWeight: '600',\n                    border: '1px solid rgba(71, 85, 105, 0.15)'\n                  }}>\n                    {dependencias.find(d => d.id === usuario.dependencia)?.nombre || usuario.dependencia}\n                  </span>\n                  <span style={{\n                    padding: '4px 12px',\n                    backgroundColor: usuario.rol === 'admin' ? '#fef3c7' : usuario.rol === 'supervisor' ? '#e0e7ff' : '#f3f4f6',\n                    color: usuario.rol === 'admin' ? '#92400e' : usuario.rol === 'supervisor' ? '#3730a3' : '#1f2937',\n                    borderRadius: '12px',\n                    fontSize: '12px',\n                    fontWeight: '600'\n                  }}>\n                    {usuario.rol.toUpperCase()}\n                  </span>\n                </div>\n\n                {/* Fecha y Acciones */}\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  gap: '8px',\n                  paddingTop: '12px',\n                  borderTop: '1px solid #f3f4f6'\n                }}>\n                  <div style={{\n                    fontSize: '12px',\n                    color: '#9ca3af'\n                  }}>\n                    {new Date(usuario.creado_en).toLocaleDateString('es-MX', {\n                      year: 'numeric',\n                      month: 'short',\n                      day: 'numeric'\n                    })}\n                  </div>\n                  <div style={{ display: 'flex', gap: '6px' }}>\n                    <button\n                      onClick={() => abrirModalEditar(usuario)}\n                      style={{\n                        padding: '8px 14px',\n                        background: 'rgba(71, 85, 105, 0.08)',\n                        color: '#475569',\n                        border: '1px solid rgba(226, 232, 240, 0.8)',\n                        borderRadius: '6px',\n                        fontSize: '13px',\n                        cursor: 'pointer',\n                        fontWeight: '500',\n                        whiteSpace: 'nowrap'\n                      }}\n                    >\n                      ‚úèÔ∏è Editar\n                    </button>\n                    {usuario.id !== 1 && usuario.activo === 1 && (\n                      <button\n                        onClick={() => handleEliminar(usuario)}\n                        style={{\n                          padding: '8px 14px',\n                          backgroundColor: '#ef4444',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '6px',\n                          fontSize: '13px',\n                          cursor: 'pointer',\n                          fontWeight: '500'\n                        }}\n                      >\n                        üóëÔ∏è\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Modal de Crear/Editar - Estilo Gubernamental Glassmorphism */}\n      {showModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(15, 23, 42, 0.6)',\n          backdropFilter: 'blur(8px)',\n          WebkitBackdropFilter: 'blur(8px)',\n          display: 'flex',\n          alignItems: 'flex-start',\n          justifyContent: 'center',\n          zIndex: 1000,\n          padding: '160px 20px 40px 20px',\n          overflowY: 'auto'\n        }}>\n          <div style={{\n            background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)',\n            backdropFilter: 'blur(16px)',\n            WebkitBackdropFilter: 'blur(16px)',\n            borderRadius: '16px',\n            border: '1px solid rgba(226, 232, 240, 0.6)',\n            maxWidth: '600px',\n            width: '100%',\n            maxHeight: 'none',\n            overflow: 'hidden',\n            display: 'flex',\n            flexDirection: 'column',\n            boxShadow: '0 16px 40px -8px rgba(0, 0, 0, 0.12), 0 8px 24px -8px rgba(71, 85, 105, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.7)'\n          }}>\n            {/* Modal Header - Glassmorphism Gubernamental Premium */}\n            <div style={{\n              padding: 'clamp(16px, 4vw, 24px)',\n              background: 'linear-gradient(135deg, rgba(71, 85, 105, 0.04) 0%, rgba(100, 116, 139, 0.04) 100%)',\n              borderBottom: '1px solid rgba(226, 232, 240, 0.6)',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              borderTopLeftRadius: '16px',\n              borderTopRightRadius: '16px'\n            }}>\n              {/* Background Pattern */}\n              <div style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                background: 'radial-gradient(circle at 30% 30%, rgba(71, 85, 105, 0.05) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(100, 116, 139, 0.05) 0%, transparent 50%)',\n                zIndex: 0,\n                pointerEvents: 'none'\n              }} />\n              \n              {/* Header Content */}\n              <div style={{ \n                display: 'flex', \n                alignItems: 'center', \n                gap: '20px',\n                position: 'relative',\n                zIndex: 1\n              }}>\n                {/* Dynamic Avatar */}\n                <div style={{\n                  width: '64px',\n                  height: '64px',\n                  borderRadius: '50%',\n                  background: 'linear-gradient(135deg, #475569, #64748b)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '28px',\n                  fontWeight: 'bold',\n                  color: 'white',\n                  boxShadow: '0 8px 32px rgba(71, 85, 105, 0.4)',\n                  border: '3px solid rgba(255,255,255,0.1)',\n                  backdropFilter: 'blur(8px)'\n                }}>\n                  {formData.nombre ? \n                    formData.nombre.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase() || 'üë§' \n                    : 'üë§'\n                  }\n                </div>\n                \n                {/* Title Section */}\n                <div>\n                  <h2 style={{ \n                    margin: 0,\n                    fontSize: 'clamp(16px, 5vw, 20px)',\n                    fontWeight: '700',\n                    color: '#1e293b',\n                    letterSpacing: '-0.3px',\n                    marginBottom: '4px'\n                  }}>\n                    {modoEdicion ? '‚ú® Editar Usuario' : 'üöÄ Crear Nuevo Usuario'}\n                  </h2>\n                  <p style={{\n                    margin: 0,\n                    fontSize: '14px',\n                    color: '#64748b',\n                    fontWeight: '500'\n                  }}>\n                    {modoEdicion ? 'Modifica la informaci√≥n del usuario' : 'A√±ade un nuevo miembro al equipo'}\n                  </p>\n                </div>\n              </div>\n              \n              {/* Premium Close Button */}\n              <button\n                onClick={cerrarModal}\n                type=\"button\"\n                style={{\n                  background: 'rgba(71, 85, 105, 0.08)',\n                  border: '1px solid rgba(226, 232, 240, 0.8)',\n                  borderRadius: '12px',\n                  fontSize: 'clamp(18px, 5vw, 24px)',\n                  cursor: 'pointer',\n                  color: '#64748b',\n                  padding: '12px',\n                  lineHeight: '1',\n                  transition: 'all 0.2s ease',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '48px',\n                  height: '48px',\n                  position: 'relative',\n                  zIndex: 1\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = 'rgba(71, 85, 105, 0.12)';\n                  e.target.style.color = '#475569';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = 'rgba(71, 85, 105, 0.08)';\n                  e.target.style.color = '#64748b';\n                }}\n              >\n                ‚úï\n              </button>\n            </div>\n\n            {/* Modal Body - CLASS MUNDIAL Premium Layout */}\n            <form onSubmit={handleSubmit} style={{ \n              background: 'linear-gradient(135deg, #f8fafc 0%, #ffffff 100%)',\n              overflowY: 'auto',\n              flex: 1,\n              padding: '0'\n            }}>\n              {/* Status Messages */}\n              {(error || success) && (\n                <div style={{ padding: '24px 32px 0 32px' }}>\n                  {error && (\n                    <div style={{\n                      padding: '16px 20px',\n                      background: 'linear-gradient(135deg, #fef2f2 0%, #fce7e7 100%)',\n                      border: '2px solid #f87171',\n                      borderRadius: '12px',\n                      marginBottom: '20px',\n                      color: '#dc2626',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      boxShadow: '0 4px 12px rgba(248,113,113,0.2)'\n                    }}>\n                      <div style={{ fontSize: '20px' }}>‚ö†Ô∏è</div>\n                      <div>{error}</div>\n                    </div>\n                  )}\n\n                  {success && (\n                    <div style={{\n                      padding: '16px 20px',\n                      background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)',\n                      border: '2px solid rgba(71, 85, 105, 0.3)',\n                      borderRadius: '12px',\n                      marginBottom: '20px',\n                      color: '#475569',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.1)'\n                    }}>\n                      <div style={{ fontSize: '20px' }}>‚úÖ</div>\n                      <div>{success}</div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Form Content - Premium Grid Layout */}\n              <div style={{ \n                padding: '32px',\n                display: 'grid',\n                gap: '32px'\n              }}>\n                \n                {/* SECTION 1: Personal Information */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    marginBottom: '24px',\n                    paddingBottom: '16px',\n                    borderBottom: '2px solid #f1f5f9'\n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #475569, #64748b)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                    }}>\n                      üë§\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      fontSize: '18px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      letterSpacing: '-0.3px'\n                    }}>\n                      Informaci√≥n Personal\n                    </h3>\n                  </div>\n\n                  {/* Nombre Field - Premium Design */}\n                  <div style={{ marginBottom: '24px' }}>\n                    <label style={{\n                      display: 'block',\n                      marginBottom: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      color: '#374151',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px'\n                    }}>\n                      Nombre Completo *\n                    </label>\n                    <div style={{ position: 'relative' }}>\n                      <input\n                        type=\"text\"\n                        name=\"nombre\"\n                        value={formData.nombre}\n                        onChange={handleInputChange}\n                        required\n                        minLength=\"3\"\n                        placeholder=\"Ej: Juan P√©rez Garc√≠a\"\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71, 85, 105, 0.15)';\n                          e.target.style.transform = 'translateY(-2px)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      />\n                    </div>\n                    <p style={{\n                      margin: '8px 0 0 0',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontWeight: '500'\n                    }}>\n                      üí° M√≠nimo 3 caracteres\n                    </p>\n                  </div>\n\n                  {/* Email Field - Premium Design */}\n                  <div style={{ marginBottom: '0' }}>\n                    <label style={{\n                      display: 'block',\n                      marginBottom: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      color: '#374151',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px'\n                    }}>\n                      Email Institucional *\n                    </label>\n                    <div style={{ position: 'relative' }}>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleInputChange}\n                        required\n                        placeholder=\"usuario@jantetelco.gob.mx\"\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71, 85, 105, 0.15)';\n                          e.target.style.transform = 'translateY(-2px)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      />\n                    </div>\n                    <p style={{\n                      margin: '8px 0 0 0',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontWeight: '500'\n                    }}>\n                      üìß Preferentemente con dominio @jantetelco.gob.mx\n                    </p>\n                  </div>\n                </div>\n\n                {/* SECTION 2: Security & Authentication */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    marginBottom: '24px',\n                    paddingBottom: '16px',\n                    borderBottom: '2px solid #f1f5f9'\n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #475569, #64748b)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                    }}>\n                      üîê\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      fontSize: '18px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      letterSpacing: '-0.3px'\n                    }}>\n                      Seguridad & Acceso\n                    </h3>\n                  </div>\n\n                  {/* Password Field - Premium Design */}\n                  <div style={{ marginBottom: '0' }}>\n                    <label style={{\n                      display: 'block',\n                      marginBottom: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      color: '#374151',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px'\n                    }}>\n                      Contrase√±a {modoEdicion ? '(dejar vac√≠o para no cambiar)' : '*'}\n                    </label>\n                    <div style={{ position: 'relative' }}>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={formData.password}\n                        onChange={handleInputChange}\n                        required={!modoEdicion}\n                        minLength=\"8\"\n                        placeholder=\"M√≠nimo 8 caracteres\"\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71, 85, 105, 0.15)';\n                          e.target.style.transform = 'translateY(-2px)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      />\n                    </div>\n                    <p style={{\n                      margin: '8px 0 0 0',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontWeight: '500'\n                    }}>\n                      üîí Debe incluir letras y n√∫meros (m√≠nimo 8 caracteres)\n                    </p>\n                  </div>\n                </div>\n\n                {/* SECTION 3: Role & Permissions */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    marginBottom: '24px',\n                    paddingBottom: '16px',\n                    borderBottom: '2px solid #f1f5f9'\n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #475569, #64748b)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                    }}>\n                      ‚ö°\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      fontSize: '18px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      letterSpacing: '-0.3px'\n                    }}>\n                      Rol & Permisos\n                    </h3>\n                  </div>\n\n                  {/* Grid for Dependencia y Rol */}\n                  <div style={{\n                    display: 'grid',\n                    gridTemplateColumns: '1fr 1fr',\n                    gap: '20px'\n                  }}>\n                    {/* Dependencia Field */}\n                    <div>\n                      <label style={{\n                        display: 'block',\n                        marginBottom: '8px',\n                        fontSize: '12px',\n                        fontWeight: '600',\n                        color: '#374151',\n                        textTransform: 'uppercase',\n                        letterSpacing: '0.5px'\n                      }}>\n                        Dependencia *\n                      </label>\n                      <select\n                        name=\"dependencia\"\n                        value={formData.dependencia}\n                        onChange={handleInputChange}\n                        required\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box',\n                          cursor: 'pointer'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71,85,105,0.15)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                        }}\n                      >\n                        {dependencias.map(dep => (\n                          <option key={dep.slug} value={dep.slug}>{dep.nombre}</option>\n                        ))}\n                      </select>\n                      <p style={{\n                        margin: '8px 0 0 0',\n                        fontSize: '12px',\n                        color: '#64748b',\n                        fontWeight: '500'\n                      }}>\n                        üè¢ Departamento asignado\n                      </p>\n                    </div>\n\n                    {/* Rol Field */}\n                    <div>\n                      <label style={{\n                        display: 'block',\n                        marginBottom: '8px',\n                        fontSize: '12px',\n                        fontWeight: '600',\n                        color: '#374151',\n                        textTransform: 'uppercase',\n                        letterSpacing: '0.5px'\n                      }}>\n                        Rol *\n                      </label>\n                      <select\n                        name=\"rol\"\n                        value={formData.rol}\n                        onChange={handleInputChange}\n                        required\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box',\n                          cursor: 'pointer'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71,85,105,0.15)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                        }}\n                      >\n                        {roles.map(rol => (\n                          <option key={rol.id} value={rol.id}>{rol.nombre}</option>\n                        ))}\n                      </select>\n                      <p style={{\n                        margin: '8px 0 0 0',\n                        fontSize: '12px',\n                        color: '#64748b',\n                        fontWeight: '500'\n                      }}>\n                        ‚ö° Nivel de acceso\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Permissions Info Card */}\n                  <div style={{\n                    marginTop: '20px',\n                    padding: '16px',\n                    background: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)',\n                    borderRadius: '12px',\n                    border: '1px solid rgba(71, 85, 105, 0.3)'\n                  }}>\n                    <div style={{\n                      fontSize: '14px',\n                      color: '#475569',\n                      fontWeight: '600',\n                      marginBottom: '8px'\n                    }}>\n                      üí° Informaci√≥n de Permisos\n                    </div>\n                    <div style={{\n                      fontSize: '13px',\n                      color: '#475569',\n                      lineHeight: '1.5'\n                    }}>\n                      ‚Ä¢ <strong>Funcionario:</strong> Atiende reportes asignados<br/>\n                      ‚Ä¢ <strong>Supervisor:</strong> Aprueba cierres y gestiona equipo<br/>\n                      ‚Ä¢ <strong>Admin:</strong> Gesti√≥n completa del sistema\n                    </div>\n                  </div>\n                </div>\n\n                {/* SECTION 4: Status (solo en edici√≥n) */}\n                {modoEdicion && (\n                  <div style={{\n                    background: 'white',\n                    borderRadius: '16px',\n                    padding: '24px',\n                    border: '1px solid #e2e8f0',\n                    boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                  }}>\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      marginBottom: '24px',\n                      paddingBottom: '16px',\n                      borderBottom: '2px solid #f1f5f9'\n                    }}>\n                      <div style={{\n                        width: '40px',\n                        height: '40px',\n                        borderRadius: '50%',\n                        background: 'linear-gradient(135deg, #475569, #64748b)',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        fontSize: '18px',\n                        boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                      }}>\n                        üîÑ\n                      </div>\n                      <h3 style={{\n                        margin: 0,\n                        fontSize: '18px',\n                        fontWeight: '700',\n                        color: '#1e293b',\n                        letterSpacing: '-0.3px'\n                      }}>\n                        Estado del Usuario\n                      </h3>\n                    </div>\n\n                    {/* Active Switch - Premium Toggle */}\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                      padding: '20px',\n                      background: formData.activo ? 'linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)' : 'linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)',\n                      borderRadius: '12px',\n                      border: formData.activo ? '2px solid #475569' : '2px solid #ef4444'\n                    }}>\n                      <div>\n                        <div style={{\n                          fontSize: '16px',\n                          fontWeight: '700',\n                          color: formData.activo ? '#475569' : '#dc2626',\n                          marginBottom: '4px'\n                        }}>\n                          {formData.activo ? '‚úÖ Usuario Activo' : '‚ùå Usuario Inactivo'}\n                        </div>\n                        <div style={{\n                          fontSize: '13px',\n                          color: formData.activo ? '#475569' : '#991b1b'\n                        }}>\n                          {formData.activo ? 'Puede iniciar sesi√≥n y acceder al sistema' : 'No puede iniciar sesi√≥n ni acceder al sistema'}\n                        </div>\n                      </div>\n                      <label style={{\n                        position: 'relative',\n                        display: 'inline-block',\n                        width: '60px',\n                        height: '34px',\n                        cursor: 'pointer'\n                      }}>\n                        <input\n                          type=\"checkbox\"\n                          name=\"activo\"\n                          checked={formData.activo}\n                          onChange={handleInputChange}\n                          style={{\n                            opacity: 0,\n                            width: 0,\n                            height: 0\n                          }}\n                        />\n                        <span style={{\n                          position: 'absolute',\n                          top: 0,\n                          left: 0,\n                          right: 0,\n                          bottom: 0,\n                          backgroundColor: formData.activo ? '#475569' : '#ef4444',\n                          borderRadius: '34px',\n                          transition: 'all 0.4s ease',\n                          cursor: 'pointer',\n                          boxShadow: formData.activo ? '0 0 20px rgba(71,85,105,0.3)' : '0 0 20px rgba(239,68,68,0.3)'\n                        }}>\n                          <span style={{\n                            position: 'absolute',\n                            content: '',\n                            height: '26px',\n                            width: '26px',\n                            left: formData.activo ? '30px' : '4px',\n                            bottom: '4px',\n                            backgroundColor: 'white',\n                            borderRadius: '50%',\n                            transition: 'all 0.4s ease',\n                            display: 'block',\n                            boxShadow: '0 2px 8px rgba(0,0,0,0.2)'\n                          }} />\n                        </span>\n                      </label>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* FOOTER - Premium Action Buttons */}\n              <div style={{\n                padding: '32px',\n                background: 'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)',\n                borderTop: '1px solid #e2e8f0',\n                display: 'flex',\n                gap: '16px',\n                justifyContent: 'flex-end',\n                borderBottomLeftRadius: '20px',\n                borderBottomRightRadius: '20px'\n              }}>\n                {/* Cancel Button */}\n                <button\n                  type=\"button\"\n                  onClick={cerrarModal}\n                  style={{\n                    padding: '16px 32px',\n                    background: 'white',\n                    color: '#64748b',\n                    border: '2px solid #e2e8f0',\n                    borderRadius: '12px',\n                    fontSize: '16px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    minWidth: '140px',\n                    transition: 'all 0.3s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '8px'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.target.style.background = '#f8fafc';\n                    e.target.style.borderColor = '#cbd5e1';\n                    e.target.style.color = '#475569';\n                    e.target.style.transform = 'translateY(-2px)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.target.style.background = 'white';\n                    e.target.style.borderColor = '#e2e8f0';\n                    e.target.style.color = '#64748b';\n                    e.target.style.transform = 'translateY(0)';\n                  }}\n                >\n                  ‚ùå Cancelar\n                </button>\n\n                {/* Submit Button */}\n                <button\n                  type=\"submit\"\n                  disabled={success !== null}\n                  style={{\n                    padding: '16px 32px',\n                    background: 'linear-gradient(135deg, #475569, #64748b)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '12px',\n                    fontSize: '16px',\n                    fontWeight: '700',\n                    cursor: success ? 'not-allowed' : 'pointer',\n                    opacity: success ? 0.8 : 1,\n                    minWidth: '180px',\n                    transition: 'all 0.3s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '8px',\n                    boxShadow: '0 4px 16px -4px rgba(71, 85, 105, 0.3)'\n                  }}\n                  onMouseEnter={(e) => {\n                    if (!success) {\n                      e.target.style.transform = 'translateY(-1px)';\n                      e.target.style.boxShadow = '0 6px 20px -4px rgba(71, 85, 105, 0.4)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (!success) {\n                      e.target.style.transform = 'translateY(0)';\n                      e.target.style.boxShadow = '0 4px 16px -4px rgba(71, 85, 105, 0.3)';\n                    }\n                  }}\n                >\n                  {success ? '‚úÖ ¬°Guardado!' : (modoEdicion ? 'üíæ Guardar Cambios' : 'üöÄ Crear Usuario')}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Estilos reutilizables (usando DESIGN_SYSTEM)\nconst estiloEncabezado = {\n  padding: DESIGN_SYSTEM.spacing.md,\n  textAlign: 'left',\n  fontSize: DESIGN_SYSTEM.typography.label.fontSize,\n  fontWeight: '700',\n  color: DESIGN_SYSTEM.colors.neutral.medium,\n  textTransform: 'uppercase',\n  letterSpacing: DESIGN_SYSTEM.typography.label.letterSpacing\n};\n\nconst estiloCelda = {\n  padding: DESIGN_SYSTEM.spacing.md,\n  fontSize: DESIGN_SYSTEM.typography.body.fontSize\n};\n\nconst estiloLabel = {\n  display: 'block',\n  marginBottom: DESIGN_SYSTEM.spacing.md,\n  fontSize: DESIGN_SYSTEM.typography.body.fontSize,\n  fontWeight: '600',\n  color: DESIGN_SYSTEM.colors.neutral.dark,\n  whiteSpace: 'normal',\n  wordWrap: 'break-word',\n  overflowWrap: 'break-word'\n};\n\nconst estiloInput = {\n  width: '100%',\n  padding: DESIGN_SYSTEM.spacing.sm,\n  backgroundColor: DESIGN_SYSTEM.colors.neutral.light,\n  border: `2px solid ${DESIGN_SYSTEM.colors.neutral.border}`,\n  borderRadius: DESIGN_SYSTEM.border.radius.md,\n  fontSize: DESIGN_SYSTEM.typography.body.fontSize,\n  fontFamily: DESIGN_SYSTEM.typography.fontFamily,\n  transition: DESIGN_SYSTEM.transition.default,\n  outline: 'none'\n};\n\nconst estiloAyuda = {\n  margin: `${DESIGN_SYSTEM.spacing.xs} 0 0 0`,\n  fontSize: DESIGN_SYSTEM.typography.labelSmall.fontSize,\n  color: DESIGN_SYSTEM.colors.neutral.medium,\n  fontStyle: 'italic'\n};\n",
  "new_content": "\nimport React, { useState, useEffect } from 'react';\nimport { DESIGN_SYSTEM, COMMON_STYLES } from './design-system';\nimport * as UnifiedStyles from './unified-section-headers';\n\n/**\n * Componente de Administraci√≥n de Usuarios\n * Permite CRUD completo de usuarios del sistema\n */\nexport default function AdminUsuarios() {\n  const [usuarios, setUsuarios] = useState([]);\n  const [dependencias, setDependencias] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modoEdicion, setModoEdicion] = useState(false);\n  const [usuarioActual, setUsuarioActual] = useState(null);\n  const [filtroActivo, setFiltroActivo] = useState('todos'); // todos, activos, inactivos\n  const [filtroDependencia, setFiltroDependencia] = useState('todas');\n  const [busqueda, setBusqueda] = useState(''); // Nuevo: B√∫squeda por texto\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n  \n  const [formData, setFormData] = useState({\n    email: '',\n    nombre: '',\n    password: '',\n    dependencia: 'obras_publicas',\n    rol: 'funcionario',\n    activo: true\n  });\n\n  // Detectar cambios en el tama√±o de pantalla\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Cargar datos iniciales\n  useEffect(() => {\n    Promise.all([\n      cargarUsuarios(),\n      cargarDependencias(),\n      cargarRoles()\n    ]).then(() => setLoading(false));\n  }, []);\n\n  async function cargarUsuarios() {\n    try {\n      const res = await fetch('/api/usuarios');\n      if (!res.ok) throw new Error('Error al cargar usuarios');\n      const data = await res.json();\n      setUsuarios(data);\n    } catch (err) {\n      setError('Error al cargar la lista de usuarios');\n      console.error(err);\n    }\n  }\n\n  async function cargarDependencias() {\n    try {\n      const res = await fetch('/api/dependencias');\n      if (!res.ok) throw new Error('Error al cargar dependencias');\n      const data = await res.json();\n      setDependencias(data);\n    } catch (err) {\n      console.error('Error al cargar dependencias:', err);\n    }\n  }\n\n  async function cargarRoles() {\n    try {\n      const res = await fetch('/api/roles');\n      if (!res.ok) throw new Error('Error al cargar roles');\n      const data = await res.json();\n      setRoles(data);\n    } catch (err) {\n      console.error('Error al cargar roles:', err);\n    }\n  }\n\n  function abrirModalNuevo() {\n    setModoEdicion(false);\n    setUsuarioActual(null);\n    setFormData({\n      email: '',\n      nombre: '',\n      password: '',\n      dependencia: 'obras_publicas',\n      rol: 'funcionario',\n      activo: true\n    });\n    setShowModal(true);\n    setError(null);\n    setSuccess(null);\n  }\n\n  function abrirModalEditar(usuario) {\n    setModoEdicion(true);\n    setUsuarioActual(usuario);\n    setFormData({\n      email: usuario.email,\n      nombre: usuario.nombre,\n      password: '', // No mostrar password actual\n      dependencia: usuario.dependencia,\n      rol: usuario.rol,\n      activo: usuario.activo === 1\n    });\n    setShowModal(true);\n    setError(null);\n    setSuccess(null);\n  }\n\n  function cerrarModal() {\n    setShowModal(false);\n    setModoEdicion(false);\n    setUsuarioActual(null);\n    setError(null);\n    setSuccess(null);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n\n    try {\n      const url = modoEdicion \n        ? `/api/usuarios/${usuarioActual.id}`\n        : '/api/usuarios';\n      \n      const method = modoEdicion ? 'PUT' : 'POST';\n      \n      // Si es edici√≥n y no se cambi√≥ el password, no enviarlo\n      const body = { ...formData };\n      if (modoEdicion && !body.password) {\n        delete body.password;\n      }\n\n      const res = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body)\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Error al guardar usuario');\n      }\n\n      setSuccess(data.mensaje || 'Usuario guardado exitosamente');\n      await cargarUsuarios();\n      \n      setTimeout(() => {\n        cerrarModal();\n      }, 1500);\n\n    } catch (err) {\n      setError(err.message);\n    }\n  }\n\n  async function handleEliminar(usuario) {\n    if (!confirm(`¬øEst√° seguro de desactivar al usuario ${usuario.nombre}?`)) {\n      return;\n    }\n\n    try {\n      const res = await fetch(`/api/usuarios/${usuario.id}`, {\n        method: 'DELETE'\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Error al desactivar usuario');\n      }\n\n      setSuccess('Usuario desactivado exitosamente');\n      await cargarUsuarios();\n\n      setTimeout(() => setSuccess(null), 3000);\n\n    } catch (err) {\n      setError(err.message);\n      setTimeout(() => setError(null), 3000);\n    }\n  }\n\n  function handleInputChange(e) {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  }\n\n  // Filtrar usuarios\n  const usuariosFiltrados = usuarios.filter(u => {\n    // Filtro por estado activo/inactivo\n    if (filtroActivo === 'activos' && u.activo !== 1) return false;\n    if (filtroActivo === 'inactivos' && u.activo === 1) return false;\n    \n    // Filtro por dependencia\n    if (filtroDependencia !== 'todas' && u.dependencia !== filtroDependencia) return false;\n    \n    // Filtro por b√∫squeda (nombre o email)\n    if (busqueda) {\n      const termino = busqueda.toLowerCase();\n      const nombre = u.nombre.toLowerCase();\n      const email = u.email.toLowerCase();\n      if (!nombre.includes(termino) && !email.includes(termino)) return false;\n    }\n    \n    return true;\n  });\n\n  if (loading) {\n    return (\n      <div style={{ padding: DESIGN_SYSTEM.spacing.xl, textAlign: 'center' }}>\n        <div style={{ fontSize: DESIGN_SYSTEM.typography.body.fontSize, color: DESIGN_SYSTEM.colors.neutral.dark }}>Cargando usuarios...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ \n      padding: DESIGN_SYSTEM.spacing.md,\n      maxWidth: '1400px',\n      margin: '0 auto',\n      fontFamily: DESIGN_SYSTEM.typography.fontFamily\n    }}>\n      {/* Header - Estilo Gubernamental con Glassmorphism */}\n      <div style={{\n        background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)',\n        backdropFilter: 'blur(16px)',\n        WebkitBackdropFilter: 'blur(16px)',\n        border: '1px solid rgba(226, 232, 240, 0.6)',\n        borderRadius: '16px',\n        padding: '28px',\n        marginBottom: '28px',\n        boxShadow: '0 8px 32px -8px rgba(0, 0, 0, 0.08), 0 4px 16px -4px rgba(100, 116, 139, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.7)',\n        position: 'relative',\n        overflow: 'hidden'\n      }}>\n        {/* Background overlay pattern */}\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'radial-gradient(circle at 70% 20%, rgba(71, 85, 105, 0.03) 0%, transparent 60%)',\n          pointerEvents: 'none'\n        }} />\n        \n        {/* Content */}\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '24px',\n          position: 'relative',\n          zIndex: 2,\n          flexWrap: 'wrap'\n        }}>\n          {/* Avatar Gubernamental */}\n          <div style={{\n            width: '72px',\n            height: '72px',\n            background: 'linear-gradient(135deg, #475569, #64748b)',\n            borderRadius: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '28px',\n            color: 'white',\n            boxShadow: '0 8px 24px -8px rgba(71, 85, 105, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15)',\n            transition: 'all 0.3s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = 'translateY(-2px)';\n            e.currentTarget.style.boxShadow = '0 12px 32px -8px rgba(71, 85, 105, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = '0 8px 24px -8px rgba(71, 85, 105, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15)';\n          }}\n          >\n            üë•\n          </div>\n          \n          {/* Text Content */}\n          <div style={{ flex: 1, minWidth: '200px' }}>\n            <h1 style={{\n              fontSize: '28px',\n              fontWeight: '700',\n              color: '#1e293b',\n              letterSpacing: '-0.4px',\n              lineHeight: '1.2',\n              margin: '0 0 8px 0'\n            }}>\n              Administraci√≥n de Usuarios\n            </h1>\n            <p style={{\n              color: '#64748b',\n              fontSize: '16px',\n              fontWeight: '500',\n              marginBottom: '16px',\n              lineHeight: '1.5',\n              margin: 0\n            }}>\n              Gestiona los funcionarios y supervisores del sistema\n            </p>\n            {/* Stats */}\n            <div style={{\n              display: 'flex',\n              gap: '12px',\n              flexWrap: 'wrap',\n              marginTop: '12px'\n            }}>\n              <div style={{\n                padding: '6px 12px',\n                background: 'rgba(71, 85, 105, 0.08)',\n                borderRadius: '8px',\n                fontSize: '13px',\n                fontWeight: '600',\n                color: '#475569',\n                border: '1px solid rgba(71, 85, 105, 0.15)'\n              }}>\n                üìä Total: {usuarios.length}\n              </div>\n              <div style={{\n                padding: '6px 12px',\n                background: 'rgba(71, 85, 105, 0.08)',\n                borderRadius: '8px',\n                fontSize: '13px',\n                fontWeight: '600',\n                color: '#475569',\n                border: '1px solid rgba(71, 85, 105, 0.15)'\n              }}>\n                ‚úÖ Activos: {usuarios.filter(u => u.activo === 1).length}\n              </div>\n            </div>\n          </div>\n          \n          {/* Action Button - Gubernamental */}\n          <button\n            onClick={abrirModalNuevo}\n            style={{\n              background: 'linear-gradient(135deg, #475569, #64748b)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '12px 20px',\n              fontSize: '15px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              boxShadow: '0 4px 16px -4px rgba(71, 85, 105, 0.3)',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-1px)';\n              e.currentTarget.style.boxShadow = '0 6px 20px -4px rgba(71, 85, 105, 0.4)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 4px 16px -4px rgba(71, 85, 105, 0.3)';\n            }}\n          >\n            <span style={{ fontSize: '20px' }}>+</span>\n            Nuevo Usuario\n          </button>\n        </div>\n      </div>\n\n      {/* Mensajes de √©xito/error globales */}\n      {success && !showModal && (\n        <div style={{\n          padding: DESIGN_SYSTEM.spacing.md,\n          backgroundColor: `${DESIGN_SYSTEM.colors.semantic.success}22`,\n          border: `1px solid ${DESIGN_SYSTEM.colors.semantic.success}`,\n          borderRadius: DESIGN_SYSTEM.border.radius.md,\n          marginBottom: DESIGN_SYSTEM.spacing['2xl'],\n          color: DESIGN_SYSTEM.colors.semantic.success\n        }}>\n          ‚úì {success}\n        </div>\n      )}\n\n      {error && !showModal && (\n        <div style={{\n          padding: DESIGN_SYSTEM.spacing.md,\n          backgroundColor: `${DESIGN_SYSTEM.colors.semantic.danger}22`,\n          border: `1px solid ${DESIGN_SYSTEM.colors.semantic.danger}`,\n          borderRadius: DESIGN_SYSTEM.border.radius.md,\n          marginBottom: DESIGN_SYSTEM.spacing['2xl'],\n          color: DESIGN_SYSTEM.colors.semantic.danger\n        }}>\n          ‚úï {error}\n        </div>\n      )}\n\n      {/* Filtros - Responsive & Premium */}\n      <div style={{\n        display: 'flex',\n        flexDirection: isMobile ? 'column' : 'row',\n        gap: isMobile ? DESIGN_SYSTEM.spacing.sm : DESIGN_SYSTEM.spacing.md,\n        marginBottom: DESIGN_SYSTEM.spacing['2xl'],\n        padding: '20px',\n        backgroundColor: 'white',\n        borderRadius: '16px',\n        boxShadow: '0 4px 20px -4px rgba(0, 0, 0, 0.05)',\n        border: '1px solid rgba(226, 232, 240, 0.8)',\n        alignItems: isMobile ? 'stretch' : 'flex-end'\n      }}>\n        {/* B√∫squeda */}\n        <div style={{ flex: 2 }}>\n          <label style={{ \n            display: 'block', \n            fontSize: '12px', \n            fontWeight: '700',\n            color: '#64748b',\n            marginBottom: '8px',\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px'\n          }}>\n            üîç Buscar Usuario\n          </label>\n          <input\n            type=\"text\"\n            value={busqueda}\n            onChange={(e) => setBusqueda(e.target.value)}\n            placeholder=\"Nombre o email...\"\n            style={{\n              width: '100%',\n              padding: '12px 16px',\n              backgroundColor: '#f8fafc',\n              border: '1px solid #e2e8f0',\n              borderRadius: '10px',\n              fontSize: '14px',\n              outline: 'none',\n              transition: 'all 0.2s ease',\n              boxSizing: 'border-box'\n            }}\n            onFocus={(e) => {\n              e.target.style.borderColor = '#94a3b8';\n              e.target.style.backgroundColor = 'white';\n              e.target.style.boxShadow = '0 0 0 3px rgba(148, 163, 184, 0.1)';\n            }}\n            onBlur={(e) => {\n              e.target.style.borderColor = '#e2e8f0';\n              e.target.style.backgroundColor = '#f8fafc';\n              e.target.style.boxShadow = 'none';\n            }}\n          />\n        </div>\n\n        <div style={{ flex: 1 }}>\n          <label style={{ \n            display: 'block', \n            fontSize: '12px', \n            fontWeight: '700',\n            color: '#64748b',\n            marginBottom: '8px',\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px'\n          }}>\n            Estado\n          </label>\n          <select\n            value={filtroActivo}\n            onChange={(e) => setFiltroActivo(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '12px 16px',\n              backgroundColor: '#f8fafc',\n              border: '1px solid #e2e8f0',\n              borderRadius: '10px',\n              fontSize: '14px',\n              outline: 'none',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease'\n            }}\n            onFocus={(e) => {\n              e.target.style.borderColor = '#94a3b8';\n              e.target.style.backgroundColor = 'white';\n            }}\n            onBlur={(e) => {\n              e.target.style.borderColor = '#e2e8f0';\n              e.target.style.backgroundColor = '#f8fafc';\n            }}\n          >\n            <option value=\"todos\">Todos</option>\n            <option value=\"activos\">Solo Activos</option>\n            <option value=\"inactivos\">Solo Inactivos</option>\n          </select>\n        </div>\n\n        <div style={{ flex: 1 }}>\n          <label style={{ \n            display: 'block', \n            fontSize: '12px', \n            fontWeight: '700',\n            color: '#64748b',\n            marginBottom: '8px',\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px'\n          }}>\n            Dependencia\n          </label>\n          <select\n            value={filtroDependencia}\n            onChange={(e) => setFiltroDependencia(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '12px 16px',\n              backgroundColor: '#f8fafc',\n              border: '1px solid #e2e8f0',\n              borderRadius: '10px',\n              fontSize: '14px',\n              outline: 'none',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease'\n            }}\n            onFocus={(e) => {\n              e.target.style.borderColor = '#94a3b8';\n              e.target.style.backgroundColor = 'white';\n            }}\n            onBlur={(e) => {\n              e.target.style.borderColor = '#e2e8f0';\n              e.target.style.backgroundColor = '#f8fafc';\n            }}\n          >\n            <option value=\"todas\">Todas las dependencias</option>\n            {dependencias.map(dep => (\n              <option key={dep.id} value={dep.id}>{dep.nombre}</option>\n            ))}\n          </select>\n        </div>\n\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center',\n          paddingBottom: '2px'\n        }}>\n          <div style={{\n            padding: '12px 20px',\n            backgroundColor: '#f1f5f9',\n            color: '#475569',\n            borderRadius: '10px',\n            fontSize: '14px',\n            fontWeight: '700',\n            whiteSpace: 'nowrap',\n            border: '1px solid #e2e8f0'\n          }}>\n            Total: {usuariosFiltrados.length}\n          </div>\n        </div>\n      </div>\n\n      {/* Tabla de usuarios (Desktop) o Cards (Mobile) */}\n      {!isMobile ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '16px',\n          border: '1px solid rgba(226, 232, 240, 0.8)',\n          overflow: 'hidden',\n          boxShadow: '0 10px 30px -10px rgba(0, 0, 0, 0.08)',\n          transition: 'all 0.25s ease'\n        }}>\n          <table style={{ \n            width: '100%', \n            borderCollapse: 'separate',\n            borderSpacing: '0',\n            minWidth: '900px'\n          }}>\n            <thead>\n              <tr style={{ \n                background: '#f8fafc',\n                borderBottom: '1px solid #e2e8f0'\n              }}>\n                <th style={estiloEncabezadoPremium}>üë§ Nombre</th>\n                <th style={estiloEncabezadoPremium}>‚úâÔ∏è Email</th>\n                <th style={estiloEncabezadoPremium}>üè¢ Dependencia</th>\n                <th style={estiloEncabezadoPremium}>‚≠ê Rol</th>\n                <th style={estiloEncabezadoPremium}>üîÑ Estado</th>\n                <th style={estiloEncabezadoPremium}>üìÖ Creado</th>\n                <th style={estiloEncabezadoPremium}>‚ö° Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {usuariosFiltrados.length === 0 ? (\n                <tr>\n                  <td colSpan=\"7\" style={{ \n                    textAlign: 'center', \n                    padding: '60px 20px',\n                    color: '#94a3b8',\n                    fontSize: '16px',\n                    fontWeight: '500'\n                  }}>\n                    <div style={{ fontSize: '48px', marginBottom: '16px', opacity: 0.5 }}>üîç</div>\n                    No se encontraron usuarios con los filtros actuales\n                  </td>\n                </tr>\n              ) : (\n                usuariosFiltrados.map((usuario, index) => (\n                <tr \n                  key={usuario.id}\n                  style={{ \n                    transition: 'all 0.2s ease',\n                    backgroundColor: 'white'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.backgroundColor = '#f8fafc';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.backgroundColor = 'white';\n                  }}\n                >\n                  <td style={{\n                    ...estiloCeldaPremium,\n                    borderBottom: '1px solid #f1f5f9'\n                  }}>\n                    <div style={{ \n                      display: 'flex', \n                      alignItems: 'center', \n                      gap: '16px'\n                    }}>\n                      <div style={{\n                        width: '42px',\n                        height: '42px',\n                        borderRadius: '12px',\n                        background: 'linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%)',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#475569',\n                        fontWeight: '700',\n                        fontSize: '16px',\n                        boxShadow: 'inset 0 2px 4px rgba(255,255,255,0.5)'\n                      }}>\n                        {usuario.nombre.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase()}\n                      </div>\n                      <div style={{ fontWeight: '600', fontSize: '15px', color: '#1e293b' }}>\n                        {usuario.nombre}\n                      </div>\n                    </div>\n                  </td>\n                  <td style={{...estiloCeldaPremium, borderBottom: '1px solid #f1f5f9'}}>\n                    <div style={{ color: '#64748b', fontSize: '14px', fontWeight: '500' }}>\n                      {usuario.email}\n                    </div>\n                  </td>\n                  <td style={{...estiloCeldaPremium, borderBottom: '1px solid #f1f5f9'}}>\n                    <span style={{\n                      padding: '6px 12px',\n                      background: '#f1f5f9',\n                      color: '#475569',\n                      borderRadius: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      border: '1px solid #e2e8f0'\n                    }}>\n                      {dependencias.find(d => d.slug === usuario.dependencia)?.nombre || usuario.dependencia}\n                    </span>\n                  </td>\n                  <td style={{...estiloCeldaPremium, borderBottom: '1px solid #f1f5f9'}}>\n                    <span style={{\n                      padding: '6px 12px',\n                      backgroundColor: usuario.rol === 'admin' ? '#fef2f2' : usuario.rol === 'supervisor' ? '#eff6ff' : '#f8fafc',\n                      color: usuario.rol === 'admin' ? '#dc2626' : usuario.rol === 'supervisor' ? '#2563eb' : '#475569',\n                      borderRadius: '8px',\n                      fontSize: '12px',\n                      fontWeight: '700',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px',\n                      border: `1px solid ${usuario.rol === 'admin' ? '#fecaca' : usuario.rol === 'supervisor' ? '#bfdbfe' : '#e2e8f0'}`\n                    }}>\n                      {usuario.rol === 'admin' ? 'üëë Admin' : usuario.rol === 'supervisor' ? 'üîç Supervisor' : '‚öôÔ∏è Funcionario'}\n                    </span>\n                  </td>\n                  <td style={{...estiloCeldaPremium, borderBottom: '1px solid #f1f5f9'}}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <div style={{\n                        width: '8px',\n                        height: '8px',\n                        borderRadius: '50%',\n                        backgroundColor: usuario.activo === 1 ? '#10b981' : '#ef4444',\n                        boxShadow: `0 0 0 4px ${usuario.activo === 1 ? '#d1fae5' : '#fee2e2'}`\n                      }} />\n                      <span style={{\n                        fontSize: '13px',\n                        fontWeight: '600',\n                        color: usuario.activo === 1 ? '#059669' : '#dc2626'\n                      }}>\n                        {usuario.activo === 1 ? 'Activo' : 'Inactivo'}\n                      </span>\n                    </div>\n                  </td>\n                  <td style={{...estiloCeldaPremium, borderBottom: '1px solid #f1f5f9'}}>\n                    <div style={{ color: '#94a3b8', fontSize: '13px', fontWeight: '500' }}>\n                      {new Date(usuario.creado_en).toLocaleDateString('es-MX', {\n                        year: 'numeric',\n                        month: 'short',\n                        day: 'numeric'\n                      })}\n                    </div>\n                  </td>\n                  <td style={{...estiloCeldaPremium, borderBottom: '1px solid #f1f5f9'}}>\n                    <div style={{ \n                      display: 'flex', \n                      gap: '8px', \n                      justifyContent: 'flex-start'\n                    }}>\n                      <button\n                        onClick={() => abrirModalEditar(usuario)}\n                        style={{\n                          padding: '8px',\n                          background: 'white',\n                          color: '#64748b',\n                          border: '1px solid #e2e8f0',\n                          borderRadius: '8px',\n                          cursor: 'pointer',\n                          transition: 'all 0.2s ease',\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center'\n                        }}\n                        title=\"Editar usuario\"\n                        onMouseEnter={(e) => {\n                          e.currentTarget.style.borderColor = '#94a3b8';\n                          e.currentTarget.style.color = '#1e293b';\n                          e.currentTarget.style.transform = 'translateY(-1px)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.currentTarget.style.borderColor = '#e2e8f0';\n                          e.currentTarget.style.color = '#64748b';\n                          e.currentTarget.style.transform = 'translateY(0)';\n                        }}\n                      >\n                        ‚úèÔ∏è\n                      </button>\n                      {usuario.id !== 1 && (\n                        <button\n                          onClick={() => handleEliminar(usuario)}\n                          style={{\n                            padding: '8px',\n                            background: 'white',\n                            color: '#ef4444',\n                            border: '1px solid #fecaca',\n                            borderRadius: '8px',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center'\n                          }}\n                          title=\"Desactivar usuario\"\n                          onMouseEnter={(e) => {\n                            e.currentTarget.style.background = '#fef2f2';\n                            e.currentTarget.style.borderColor = '#ef4444';\n                            e.currentTarget.style.transform = 'translateY(-1px)';\n                          }}\n                          onMouseLeave={(e) => {\n                            e.currentTarget.style.background = 'white';\n                            e.currentTarget.style.borderColor = '#fecaca';\n                            e.currentTarget.style.transform = 'translateY(0)';\n                          }}\n                        >\n                          üóëÔ∏è\n                        </button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))\n\n            )}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        /* Vista de Cards para Mobile */\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n          {usuariosFiltrados.length === 0 ? (\n            <div style={{\n              backgroundColor: 'white',\n              borderRadius: '16px',\n              border: '1px solid #e2e8f0',\n              padding: '40px 20px',\n              textAlign: 'center',\n              color: '#64748b'\n            }}>\n              No hay usuarios que coincidan con los filtros\n            </div>\n          ) : (\n            usuariosFiltrados.map(usuario => (\n              <div\n                key={usuario.id}\n                style={{\n                  backgroundColor: 'white',\n                  borderRadius: '16px',\n                  border: '1px solid #e2e8f0',\n                  padding: '20px',\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.05)'\n                }}\n              >\n                {/* Nombre y Estado */}\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  marginBottom: '16px'\n                }}>\n                  <div style={{ flex: 1 }}>\n                    <div style={{\n                      fontSize: '16px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      marginBottom: '4px'\n                    }}>\n                      {usuario.nombre}\n                    </div>\n                    <div style={{\n                      fontSize: '14px',\n                      color: '#64748b',\n                      wordBreak: 'break-all'\n                    }}>\n                      {usuario.email}\n                    </div>\n                  </div>\n                  <div style={{\n                    width: '10px',\n                    height: '10px',\n                    borderRadius: '50%',\n                    backgroundColor: usuario.activo === 1 ? '#10b981' : '#ef4444',\n                    boxShadow: `0 0 0 4px ${usuario.activo === 1 ? '#d1fae5' : '#fee2e2'}`\n                  }} />\n                </div>\n\n                {/* Dependencia y Rol */}\n                <div style={{\n                  display: 'flex',\n                  gap: '8px',\n                  marginBottom: '16px',\n                  flexWrap: 'wrap'\n                }}>\n                  <span style={{\n                    padding: '6px 12px',\n                    background: '#f1f5f9',\n                    color: '#475569',\n                    borderRadius: '8px',\n                    fontSize: '12px',\n                    fontWeight: '600',\n                    border: '1px solid #e2e8f0'\n                  }}>\n                    {dependencias.find(d => d.id === usuario.dependencia)?.nombre || usuario.dependencia}\n                  </span>\n                  <span style={{\n                    padding: '6px 12px',\n                    backgroundColor: usuario.rol === 'admin' ? '#fef2f2' : usuario.rol === 'supervisor' ? '#eff6ff' : '#f8fafc',\n                    color: usuario.rol === 'admin' ? '#dc2626' : usuario.rol === 'supervisor' ? '#2563eb' : '#475569',\n                    borderRadius: '8px',\n                    fontSize: '12px',\n                    fontWeight: '700',\n                    border: `1px solid ${usuario.rol === 'admin' ? '#fecaca' : usuario.rol === 'supervisor' ? '#bfdbfe' : '#e2e8f0'}`\n                  }}>\n                    {usuario.rol.toUpperCase()}\n                  </span>\n                </div>\n\n                {/* Fecha y Acciones */}\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  gap: '8px',\n                  paddingTop: '16px',\n                  borderTop: '1px solid #f1f5f9'\n                }}>\n                  <div style={{\n                    fontSize: '13px',\n                    color: '#94a3b8',\n                    fontWeight: '500'\n                  }}>\n                    {new Date(usuario.creado_en).toLocaleDateString('es-MX', {\n                      year: 'numeric',\n                      month: 'short',\n                      day: 'numeric'\n                    })}\n                  </div>\n                  <div style={{ display: 'flex', gap: '8px' }}>\n                    <button\n                      onClick={() => abrirModalEditar(usuario)}\n                      style={{\n                        padding: '8px 16px',\n                        background: 'white',\n                        color: '#475569',\n                        border: '1px solid #e2e8f0',\n                        borderRadius: '8px',\n                        fontSize: '13px',\n                        cursor: 'pointer',\n                        fontWeight: '600'\n                      }}\n                    >\n                      ‚úèÔ∏è Editar\n                    </button>\n                    {usuario.id !== 1 && usuario.activo === 1 && (\n                      <button\n                        onClick={() => handleEliminar(usuario)}\n                        style={{\n                          padding: '8px 16px',\n                          backgroundColor: '#fff',\n                          color: '#ef4444',\n                          border: '1px solid #fecaca',\n                          borderRadius: '8px',\n                          fontSize: '13px',\n                          cursor: 'pointer',\n                          fontWeight: '600'\n                        }}\n                      >\n                        üóëÔ∏è\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Modal de Crear/Editar - Estilo Gubernamental Glassmorphism */}\n      {showModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(15, 23, 42, 0.6)',\n          backdropFilter: 'blur(8px)',\n          WebkitBackdropFilter: 'blur(8px)',\n          display: 'flex',\n          alignItems: 'flex-start',\n          justifyContent: 'center',\n          zIndex: 1000,\n          padding: '160px 20px 40px 20px',\n          overflowY: 'auto'\n        }}>\n          <div style={{\n            background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%)',\n            backdropFilter: 'blur(16px)',\n            WebkitBackdropFilter: 'blur(16px)',\n            borderRadius: '16px',\n            border: '1px solid rgba(226, 232, 240, 0.6)',\n            maxWidth: '600px',\n            width: '100%',\n            maxHeight: 'none',\n            overflow: 'hidden',\n            display: 'flex',\n            flexDirection: 'column',\n            boxShadow: '0 16px 40px -8px rgba(0, 0, 0, 0.12), 0 8px 24px -8px rgba(71, 85, 105, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.7)'\n          }}>\n            {/* Modal Header - Glassmorphism Gubernamental Premium */}\n            <div style={{\n              padding: 'clamp(16px, 4vw, 24px)',\n              background: 'linear-gradient(135deg, rgba(71, 85, 105, 0.04) 0%, rgba(100, 116, 139, 0.04) 100%)',\n              borderBottom: '1px solid rgba(226, 232, 240, 0.6)',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              borderTopLeftRadius: '16px',\n              borderTopRightRadius: '16px'\n            }}>\n              {/* Background Pattern */}\n              <div style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                background: 'radial-gradient(circle at 30% 30%, rgba(71, 85, 105, 0.05) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(100, 116, 139, 0.05) 0%, transparent 50%)',\n                zIndex: 0,\n                pointerEvents: 'none'\n              }} />\n              \n              {/* Header Content */}\n              <div style={{ \n                display: 'flex', \n                alignItems: 'center', \n                gap: '20px',\n                position: 'relative',\n                zIndex: 1\n              }}>\n                {/* Dynamic Avatar */}\n                <div style={{\n                  width: '64px',\n                  height: '64px',\n                  borderRadius: '50%',\n                  background: 'linear-gradient(135deg, #475569, #64748b)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '28px',\n                  fontWeight: 'bold',\n                  color: 'white',\n                  boxShadow: '0 8px 32px rgba(71, 85, 105, 0.4)',\n                  border: '3px solid rgba(255,255,255,0.1)',\n                  backdropFilter: 'blur(8px)'\n                }}>\n                  {formData.nombre ? \n                    formData.nombre.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase() || 'üë§' \n                    : 'üë§'\n                  }\n                </div>\n                \n                {/* Title Section */}\n                <div>\n                  <h2 style={{ \n                    margin: 0,\n                    fontSize: 'clamp(16px, 5vw, 20px)',\n                    fontWeight: '700',\n                    color: '#1e293b',\n                    letterSpacing: '-0.3px',\n                    marginBottom: '4px'\n                  }}>\n                    {modoEdicion ? '‚ú® Editar Usuario' : 'üöÄ Crear Nuevo Usuario'}\n                  </h2>\n                  <p style={{\n                    margin: 0,\n                    fontSize: '14px',\n                    color: '#64748b',\n                    fontWeight: '500'\n                  }}>\n                    {modoEdicion ? 'Modifica la informaci√≥n del usuario' : 'A√±ade un nuevo miembro al equipo'}\n                  </p>\n                </div>\n              </div>\n              \n              {/* Premium Close Button */}\n              <button\n                onClick={cerrarModal}\n                type=\"button\"\n                style={{\n                  background: 'rgba(71, 85, 105, 0.08)',\n                  border: '1px solid rgba(226, 232, 240, 0.8)',\n                  borderRadius: '12px',\n                  fontSize: 'clamp(18px, 5vw, 24px)',\n                  cursor: 'pointer',\n                  color: '#64748b',\n                  padding: '12px',\n                  lineHeight: '1',\n                  transition: 'all 0.2s ease',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '48px',\n                  height: '48px',\n                  position: 'relative',\n                  zIndex: 1\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = 'rgba(71, 85, 105, 0.12)';\n                  e.target.style.color = '#475569';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = 'rgba(71, 85, 105, 0.08)';\n                  e.target.style.color = '#64748b';\n                }}\n              >\n                ‚úï\n              </button>\n            </div>\n\n            {/* Modal Body - CLASS MUNDIAL Premium Layout */}\n            <form onSubmit={handleSubmit} style={{ \n              background: 'linear-gradient(135deg, #f8fafc 0%, #ffffff 100%)',\n              overflowY: 'auto',\n              flex: 1,\n              padding: '0'\n            }}>\n              {/* Status Messages */}\n              {(error || success) && (\n                <div style={{ padding: '24px 32px 0 32px' }}>\n                  {error && (\n                    <div style={{\n                      padding: '16px 20px',\n                      background: 'linear-gradient(135deg, #fef2f2 0%, #fce7e7 100%)',\n                      border: '2px solid #f87171',\n                      borderRadius: '12px',\n                      marginBottom: '20px',\n                      color: '#dc2626',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      boxShadow: '0 4px 12px rgba(248,113,113,0.2)'\n                    }}>\n                      <div style={{ fontSize: '20px' }}>‚ö†Ô∏è</div>\n                      <div>{error}</div>\n                    </div>\n                  )}\n\n                  {success && (\n                    <div style={{\n                      padding: '16px 20px',\n                      background: 'linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)',\n                      border: '2px solid rgba(71, 85, 105, 0.3)',\n                      borderRadius: '12px',\n                      marginBottom: '20px',\n                      color: '#475569',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.1)'\n                    }}>\n                      <div style={{ fontSize: '20px' }}>‚úÖ</div>\n                      <div>{success}</div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Form Content - Premium Grid Layout */}\n              <div style={{ \n                padding: '32px',\n                display: 'grid',\n                gap: '32px'\n              }}>\n                \n                {/* SECTION 1: Personal Information */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    marginBottom: '24px',\n                    paddingBottom: '16px',\n                    borderBottom: '2px solid #f1f5f9'\n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #475569, #64748b)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                    }}>\n                      üë§\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      fontSize: '18px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      letterSpacing: '-0.3px'\n                    }}>\n                      Informaci√≥n Personal\n                    </h3>\n                  </div>\n\n                  {/* Nombre Field - Premium Design */}\n                  <div style={{ marginBottom: '24px' }}>\n                    <label style={{\n                      display: 'block',\n                      marginBottom: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      color: '#374151',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px'\n                    }}>\n                      Nombre Completo *\n                    </label>\n                    <div style={{ position: 'relative' }}>\n                      <input\n                        type=\"text\"\n                        name=\"nombre\"\n                        value={formData.nombre}\n                        onChange={handleInputChange}\n                        required\n                        minLength=\"3\"\n                        placeholder=\"Ej: Juan P√©rez Garc√≠a\"\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71, 85, 105, 0.15)';\n                          e.target.style.transform = 'translateY(-2px)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      />\n                    </div>\n                    <p style={{\n                      margin: '8px 0 0 0',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontWeight: '500'\n                    }}>\n                      üí° M√≠nimo 3 caracteres\n                    </p>\n                  </div>\n\n                  {/* Email Field - Premium Design */}\n                  <div style={{ marginBottom: '0' }}>\n                    <label style={{\n                      display: 'block',\n                      marginBottom: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      color: '#374151',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px'\n                    }}>\n                      Email Institucional *\n                    </label>\n                    <div style={{ position: 'relative' }}>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleInputChange}\n                        required\n                        placeholder=\"usuario@jantetelco.gob.mx\"\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71, 85, 105, 0.15)';\n                          e.target.style.transform = 'translateY(-2px)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      />\n                    </div>\n                    <p style={{\n                      margin: '8px 0 0 0',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontWeight: '500'\n                    }}>\n                      üìß Preferentemente con dominio @jantetelco.gob.mx\n                    </p>\n                  </div>\n                </div>\n\n                {/* SECTION 2: Security & Authentication */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    marginBottom: '24px',\n                    paddingBottom: '16px',\n                    borderBottom: '2px solid #f1f5f9'\n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #475569, #64748b)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                    }}>\n                      üîê\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      fontSize: '18px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      letterSpacing: '-0.3px'\n                    }}>\n                      Seguridad & Acceso\n                    </h3>\n                  </div>\n\n                  {/* Password Field - Premium Design */}\n                  <div style={{ marginBottom: '0' }}>\n                    <label style={{\n                      display: 'block',\n                      marginBottom: '8px',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      color: '#374151',\n                      textTransform: 'uppercase',\n                      letterSpacing: '0.5px'\n                    }}>\n                      Contrase√±a {modoEdicion ? '(dejar vac√≠o para no cambiar)' : '*'}\n                    </label>\n                    <div style={{ position: 'relative' }}>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={formData.password}\n                        onChange={handleInputChange}\n                        required={!modoEdicion}\n                        minLength=\"8\"\n                        placeholder=\"M√≠nimo 8 caracteres\"\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71, 85, 105, 0.15)';\n                          e.target.style.transform = 'translateY(-2px)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                          e.target.style.transform = 'translateY(0)';\n                        }}\n                      />\n                    </div>\n                    <p style={{\n                      margin: '8px 0 0 0',\n                      fontSize: '12px',\n                      color: '#64748b',\n                      fontWeight: '500'\n                    }}>\n                      üîí Debe incluir letras y n√∫meros (m√≠nimo 8 caracteres)\n                    </p>\n                  </div>\n                </div>\n\n                {/* SECTION 3: Role & Permissions */}\n                <div style={{\n                  background: 'white',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    marginBottom: '24px',\n                    paddingBottom: '16px',\n                    borderBottom: '2px solid #f1f5f9'\n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: 'linear-gradient(135deg, #475569, #64748b)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px',\n                      boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                    }}>\n                      ‚ö°\n                    </div>\n                    <h3 style={{\n                      margin: 0,\n                      fontSize: '18px',\n                      fontWeight: '700',\n                      color: '#1e293b',\n                      letterSpacing: '-0.3px'\n                    }}>\n                      Rol & Permisos\n                    </h3>\n                  </div>\n\n                  {/* Grid for Dependencia y Rol */}\n                  <div style={{\n                    display: 'grid',\n                    gridTemplateColumns: '1fr 1fr',\n                    gap: '20px'\n                  }}>\n                    {/* Dependencia Field */}\n                    <div>\n                      <label style={{\n                        display: 'block',\n                        marginBottom: '8px',\n                        fontSize: '12px',\n                        fontWeight: '600',\n                        color: '#374151',\n                        textTransform: 'uppercase',\n                        letterSpacing: '0.5px'\n                      }}>\n                        Dependencia *\n                      </label>\n                      <select\n                        name=\"dependencia\"\n                        value={formData.dependencia}\n                        onChange={handleInputChange}\n                        required\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box',\n                          cursor: 'pointer'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71,85,105,0.15)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                        }}\n                      >\n                        {dependencias.map(dep => (\n                          <option key={dep.slug} value={dep.slug}>{dep.nombre}</option>\n                        ))}\n                      </select>\n                      <p style={{\n                        margin: '8px 0 0 0',\n                        fontSize: '12px',\n                        color: '#64748b',\n                        fontWeight: '500'\n                      }}>\n                        üè¢ Departamento asignado\n                      </p>\n                    </div>\n\n                    {/* Rol Field */}\n                    <div>\n                      <label style={{\n                        display: 'block',\n                        marginBottom: '8px',\n                        fontSize: '12px',\n                        fontWeight: '600',\n                        color: '#374151',\n                        textTransform: 'uppercase',\n                        letterSpacing: '0.5px'\n                      }}>\n                        Rol *\n                      </label>\n                      <select\n                        name=\"rol\"\n                        value={formData.rol}\n                        onChange={handleInputChange}\n                        required\n                        style={{\n                          width: '100%',\n                          padding: '16px 20px',\n                          border: '2px solid #e2e8f0',\n                          borderRadius: '12px',\n                          fontSize: '16px',\n                          fontWeight: '500',\n                          backgroundColor: '#ffffff',\n                          transition: 'all 0.3s ease',\n                          outline: 'none',\n                          boxSizing: 'border-box',\n                          cursor: 'pointer'\n                        }}\n                        onFocus={(e) => {\n                          e.target.style.borderColor = '#475569';\n                          e.target.style.boxShadow = '0 0 0 4px rgba(71,85,105,0.15)';\n                        }}\n                        onBlur={(e) => {\n                          e.target.style.borderColor = '#e2e8f0';\n                          e.target.style.boxShadow = 'none';\n                        }}\n                      >\n                        {roles.map(rol => (\n                          <option key={rol.id} value={rol.id}>{rol.nombre}</option>\n                        ))}\n                      </select>\n                      <p style={{\n                        margin: '8px 0 0 0',\n                        fontSize: '12px',\n                        color: '#64748b',\n                        fontWeight: '500'\n                      }}>\n                        ‚ö° Nivel de acceso\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Permissions Info Card */}\n                  <div style={{\n                    marginTop: '20px',\n                    padding: '16px',\n                    background: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)',\n                    borderRadius: '12px',\n                    border: '1px solid rgba(71, 85, 105, 0.3)'\n                  }}>\n                    <div style={{\n                      fontSize: '14px',\n                      color: '#475569',\n                      fontWeight: '600',\n                      marginBottom: '8px'\n                    }}>\n                      üí° Informaci√≥n de Permisos\n                    </div>\n                    <div style={{\n                      fontSize: '13px',\n                      color: '#475569',\n                      lineHeight: '1.5'\n                    }}>\n                      ‚Ä¢ <strong>Funcionario:</strong> Atiende reportes asignados<br/>\n                      ‚Ä¢ <strong>Supervisor:</strong> Aprueba cierres y gestiona equipo<br/>\n                      ‚Ä¢ <strong>Admin:</strong> Gesti√≥n completa del sistema\n                    </div>\n                  </div>\n                </div>\n\n                {/* SECTION 4: Status (solo en edici√≥n) */}\n                {modoEdicion && (\n                  <div style={{\n                    background: 'white',\n                    borderRadius: '16px',\n                    padding: '24px',\n                    border: '1px solid #e2e8f0',\n                    boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\n                  }}>\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      marginBottom: '24px',\n                      paddingBottom: '16px',\n                      borderBottom: '2px solid #f1f5f9'\n                    }}>\n                      <div style={{\n                        width: '40px',\n                        height: '40px',\n                        borderRadius: '50%',\n                        background: 'linear-gradient(135deg, #475569, #64748b)',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        fontSize: '18px',\n                        boxShadow: '0 4px 12px rgba(71, 85, 105, 0.3)'\n                      }}>\n                        üîÑ\n                      </div>\n                      <h3 style={{\n                        margin: 0,\n                        fontSize: '18px',\n                        fontWeight: '700',\n                        color: '#1e293b',\n                        letterSpacing: '-0.3px'\n                      }}>\n                        Estado del Usuario\n                      </h3>\n                    </div>\n\n                    {/* Active Switch - Premium Toggle */}\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                      padding: '20px',\n                      background: formData.activo ? 'linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)' : 'linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)',\n                      borderRadius: '12px',\n                      border: formData.activo ? '2px solid #475569' : '2px solid #ef4444'\n                    }}>\n                      <div>\n                        <div style={{\n                          fontSize: '16px',\n                          fontWeight: '700',\n                          color: formData.activo ? '#475569' : '#dc2626',\n                          marginBottom: '4px'\n                        }}>\n                          {formData.activo ? '‚úÖ Usuario Activo' : '‚ùå Usuario Inactivo'}\n                        </div>\n                        <div style={{\n                          fontSize: '13px',\n                          color: formData.activo ? '#475569' : '#991b1b'\n                        }}>\n                          {formData.activo ? 'Puede iniciar sesi√≥n y acceder al sistema' : 'No puede iniciar sesi√≥n ni acceder al sistema'}\n                        </div>\n                      </div>\n                      <label style={{\n                        position: 'relative',\n                        display: 'inline-block',\n                        width: '60px',\n                        height: '34px',\n                        cursor: 'pointer'\n                      }}>\n                        <input\n                          type=\"checkbox\"\n                          name=\"activo\"\n                          checked={formData.activo}\n                          onChange={handleInputChange}\n                          style={{\n                            opacity: 0,\n                            width: 0,\n                            height: 0\n                          }}\n                        />\n                        <span style={{\n                          position: 'absolute',\n                          top: 0,\n                          left: 0,\n                          right: 0,\n                          bottom: 0,\n                          backgroundColor: formData.activo ? '#475569' : '#ef4444',\n                          borderRadius: '34px',\n                          transition: 'all 0.4s ease',\n                          cursor: 'pointer',\n                          boxShadow: formData.activo ? '0 0 20px rgba(71,85,105,0.3)' : '0 0 20px rgba(239,68,68,0.3)'\n                        }}>\n                          <span style={{\n                            position: 'absolute',\n                            content: '',\n                            height: '26px',\n                            width: '26px',\n                            left: formData.activo ? '30px' : '4px',\n                            bottom: '4px',\n                            backgroundColor: 'white',\n                            borderRadius: '50%',\n                            transition: 'all 0.4s ease',\n                            display: 'block',\n                            boxShadow: '0 2px 8px rgba(0,0,0,0.2)'\n                          }} />\n                        </span>\n                      </label>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* FOOTER - Premium Action Buttons */}\n              <div style={{\n                padding: '32px',\n                background: 'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)',\n                borderTop: '1px solid #e2e8f0',\n                display: 'flex',\n                gap: '16px',\n                justifyContent: 'flex-end',\n                borderBottomLeftRadius: '20px',\n                borderBottomRightRadius: '20px'\n              }}>\n                {/* Cancel Button */}\n                <button\n                  type=\"button\"\n                  onClick={cerrarModal}\n                  style={{\n                    padding: '16px 32px',\n                    background: 'white',\n                    color: '#64748b',\n                    border: '2px solid #e2e8f0',\n                    borderRadius: '12px',\n                    fontSize: '16px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    minWidth: '140px',\n                    transition: 'all 0.3s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '8px'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.target.style.background = '#f8fafc';\n                    e.target.style.borderColor = '#cbd5e1';\n                    e.target.style.color = '#475569';\n                    e.target.style.transform = 'translateY(-2px)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.target.style.background = 'white';\n                    e.target.style.borderColor = '#e2e8f0';\n                    e.target.style.color = '#64748b';\n                    e.target.style.transform = 'translateY(0)';\n                  }}\n                >\n                  ‚ùå Cancelar\n                </button>\n\n                {/* Submit Button */}\n                <button\n                  type=\"submit\"\n                  disabled={success !== null}\n                  style={{\n                    padding: '16px 32px',\n                    background: 'linear-gradient(135deg, #475569, #64748b)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '12px',\n                    fontSize: '16px',\n                    fontWeight: '700',\n                    cursor: success ? 'not-allowed' : 'pointer',\n                    opacity: success ? 0.8 : 1,\n                    minWidth: '180px',\n                    transition: 'all 0.3s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '8px',\n                    boxShadow: '0 4px 16px -4px rgba(71, 85, 105, 0.3)'\n                  }}\n                  onMouseEnter={(e) => {\n                    if (!success) {\n                      e.target.style.transform = 'translateY(-1px)';\n                      e.target.style.boxShadow = '0 6px 20px -4px rgba(71, 85, 105, 0.4)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (!success) {\n                      e.target.style.transform = 'translateY(0)';\n                      e.target.style.boxShadow = '0 4px 16px -4px rgba(71, 85, 105, 0.3)';\n                    }\n                  }}\n                >\n                  {success ? '‚úÖ ¬°Guardado!' : (modoEdicion ? 'üíæ Guardar Cambios' : 'üöÄ Crear Usuario')}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Estilos reutilizables Premium\nconst estiloEncabezadoPremium = {\n  padding: '16px 20px',\n  textAlign: 'left',\n  fontSize: '12px',\n  fontWeight: '700',\n  color: '#64748b',\n  textTransform: 'uppercase',\n  letterSpacing: '0.5px',\n  borderBottom: '1px solid #e2e8f0'\n};\n\nconst estiloCeldaPremium = {\n  padding: '16px 20px',\n  fontSize: '14px',\n  color: '#334155',\n  verticalAlign: 'middle'\n};\n                >\n                  {success ? '‚úÖ ¬°Guardado!' : (modoEdicion ? 'üíæ Guardar Cambios' : 'üöÄ Crear Usuario')}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Estilos reutilizables (usando DESIGN_SYSTEM)\nconst estiloEncabezado = {\n  padding: DESIGN_SYSTEM.spacing.md,\n  textAlign: 'left',\n  fontSize: DESIGN_SYSTEM.typography.label.fontSize,\n  fontWeight: '700',\n  color: DESIGN_SYSTEM.colors.neutral.medium,\n  textTransform: 'uppercase',\n  letterSpacing: DESIGN_SYSTEM.typography.label.letterSpacing\n};\n\nconst estiloCelda = {\n  padding: DESIGN_SYSTEM.spacing.md,\n  fontSize: DESIGN_SYSTEM.typography.body.fontSize\n};\n\nconst estiloLabel = {\n  display: 'block',\n  marginBottom: DESIGN_SYSTEM.spacing.md,\n  fontSize: DESIGN_SYSTEM.typography.body.fontSize,\n  fontWeight: '600',\n  color: DESIGN_SYSTEM.colors.neutral.dark,\n  whiteSpace: 'normal',\n  wordWrap: 'break-word',\n  overflowWrap: 'break-word'\n};\n\nconst estiloInput = {\n  width: '100%',\n  padding: DESIGN_SYSTEM.spacing.sm,\n  backgroundColor: DESIGN_SYSTEM.colors.neutral.light,\n  border: `2px solid ${DESIGN_SYSTEM.colors.neutral.border}`,\n  borderRadius: DESIGN_SYSTEM.border.radius.md,\n  fontSize: DESIGN_SYSTEM.typography.body.fontSize,\n  fontFamily: DESIGN_SYSTEM.typography.fontFamily,\n  transition: DESIGN_SYSTEM.transition.default,\n  outline: 'none'\n};\n\nconst estiloAyuda = {\n  margin: `${DESIGN_SYSTEM.spacing.xs} 0 0 0`,\n  fontSize: DESIGN_SYSTEM.typography.labelSmall.fontSize,\n  color: DESIGN_SYSTEM.colors.neutral.medium,\n  fontStyle: 'italic'\n};",
  "original_hash": "8ee2c652a78b",
  "new_hash": "4e700d7c189d",
  "backup_path": "client\\src\\AdminUsuarios.jsx.bak",
  "post_cmd": null,
  "post_cmd_result": null,
  "job_file": null
}